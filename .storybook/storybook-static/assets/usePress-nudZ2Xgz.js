import{q as ue,m as F,l as ce,r as fe,s as I,t as te,i as w,u as de,f as C,v as ge,w as z,p as B,b as re,k as pe,n as ve}from"./focusSafely-ByiDPXQJ.js";import{r as $,R as ye}from"./index-CTjT7uj6.js";const be=new Set(["id"]),$e=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Te=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),he=/^(data-.*)$/;function Xe(t,r={}){let{labelable:i,isLink:o,propNames:u}=r,f={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(be.has(l)||i&&$e.has(l)||o&&Te.has(l)||u!=null&&u.has(l)||he.test(l))&&(f[l]=t[l]);return f}const Pe=$.createContext({isNative:!0,open:Ke,useHref:t=>t});function me(){return $.useContext(Pe)}function Ye(t,r){let i=t.getAttribute("target");return(!i||i==="_self")&&t.origin===location.origin&&!t.hasAttribute("download")&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&!r.shiftKey}function A(t,r,i=!0){var o,u;let{metaKey:f,ctrlKey:l,altKey:p,shiftKey:v}=r;ue()&&(!((u=window.event)===null||u===void 0||(o=u.type)===null||o===void 0)&&o.startsWith("key"))&&t.target==="_blank"&&(F()?f=!0:l=!0);let T=ce()&&F()&&!fe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:f,ctrlKey:l,altKey:p,shiftKey:v}):new MouseEvent("click",{metaKey:f,ctrlKey:l,altKey:p,shiftKey:v,bubbles:!0,cancelable:!0});A.isOpening=i,I(t),t.dispatchEvent(T),A.isOpening=!1}A.isOpening=!1;function Ee(t,r){if(t instanceof HTMLAnchorElement)r(t);else if(t.hasAttribute("data-href")){let i=document.createElement("a");i.href=t.getAttribute("data-href"),t.hasAttribute("data-target")&&(i.target=t.getAttribute("data-target")),t.hasAttribute("data-rel")&&(i.rel=t.getAttribute("data-rel")),t.hasAttribute("data-download")&&(i.download=t.getAttribute("data-download")),t.hasAttribute("data-ping")&&(i.ping=t.getAttribute("data-ping")),t.hasAttribute("data-referrer-policy")&&(i.referrerPolicy=t.getAttribute("data-referrer-policy")),t.appendChild(i),r(i),t.removeChild(i)}}function Ke(t,r){Ee(t,i=>A(i,r))}function Re(t){let r=me();return{href:t!=null&&t.href?r.useHref(t==null?void 0:t.href):void 0,target:t==null?void 0:t.target,rel:t==null?void 0:t.rel,download:t==null?void 0:t.download,ping:t==null?void 0:t.ping,referrerPolicy:t==null?void 0:t.referrerPolicy}}function Se(){let t=$.useRef(new Map),r=$.useCallback((u,f,l,p)=>{let v=p!=null&&p.once?(...T)=>{t.current.delete(l),l(...T)}:l;t.current.set(l,{type:f,eventTarget:u,fn:v,options:p}),u.addEventListener(f,l,p)},[]),i=$.useCallback((u,f,l,p)=>{var v;let T=((v=t.current.get(l))===null||v===void 0?void 0:v.fn)||l;u.removeEventListener(f,T,p),t.current.delete(l)},[]),o=$.useCallback(()=>{t.current.forEach((u,f)=>{i(u.eventTarget,u.type,f,u.options)})},[i]);return $.useEffect(()=>o,[o]),{addGlobalListener:r,removeGlobalListener:i,removeAllGlobalListeners:o}}let L="default",V="",G=new WeakMap;function q(t){if(te()){if(L==="default"){const r=w(t);V=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}L="disabled"}else(t instanceof HTMLElement||t instanceof SVGElement)&&(G.set(t,t.style.userSelect),t.style.userSelect="none")}function X(t){if(te()){if(L!=="disabled")return;L="restoring",setTimeout(()=>{de(()=>{if(L==="restoring"){const r=w(t);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=V||""),V="",L="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&G.has(t)){let r=G.get(t);t.style.userSelect==="none"&&(t.style.userSelect=r),t.getAttribute("style")===""&&t.removeAttribute("style"),G.delete(t)}}const ne=ye.createContext({register:()=>{}});ne.displayName="PressResponderContext";function we(t,r){return r.get?r.get.call(t):r.value}function ae(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function xe(t,r){var i=ae(t,r,"get");return we(t,i)}function ke(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oe(t,r,i){ke(t,r),r.set(t,i)}function Me(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function J(t,r,i){var o=ae(t,r,"set");return Me(t,o,i),i}function _e(t){let r=$.useContext(ne);if(r){let{register:i,...o}=r;t=re(o,t),i()}return pe(r,t.ref),t}var Y=new WeakMap;class R{continuePropagation(){J(this,Y,!1)}get shouldStopPropagation(){return xe(this,Y)}constructor(r,i,o,u){Oe(this,Y,{writable:!0,value:void 0}),J(this,Y,!0);var f;let l=(f=u==null?void 0:u.target)!==null&&f!==void 0?f:o.currentTarget;const p=l==null?void 0:l.getBoundingClientRect();let v,T=0,b,D=null;o.clientX!=null&&o.clientY!=null&&(b=o.clientX,D=o.clientY),p&&(b!=null&&D!=null?(v=b-p.left,T=D-p.top):(v=p.width/2,T=p.height/2)),this.type=r,this.pointerType=i,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.x=v,this.y=T}}const Q=Symbol("linkClicked");function Ge(t){let{onPress:r,onPressChange:i,onPressStart:o,onPressEnd:u,onPressUp:f,isDisabled:l,isPressed:p,preventFocusOnPress:v,shouldCancelOnPointerExit:T,allowTextSelectionOnPress:b,ref:D,...se}=_e(t),[oe,W]=$.useState(!1),x=$.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:K,removeAllGlobalListeners:k}=Se(),P=C((e,c)=>{let h=x.current;if(l||h.didFirePressStart)return!1;let s=!0;if(h.isTriggeringEvent=!0,o){let d=new R("pressstart",c,e);o(d),s=d.shouldStopPropagation}return i&&i(!0),h.isTriggeringEvent=!1,h.didFirePressStart=!0,W(!0),s}),y=C((e,c,h=!0)=>{let s=x.current;if(!s.didFirePressStart)return!1;s.ignoreClickAfterPress=!0,s.didFirePressStart=!1,s.isTriggeringEvent=!0;let d=!0;if(u){let n=new R("pressend",c,e);u(n),d=n.shouldStopPropagation}if(i&&i(!1),W(!1),r&&h&&!l){let n=new R("press",c,e);r(n),d&&(d=n.shouldStopPropagation)}return s.isTriggeringEvent=!1,d}),O=C((e,c)=>{let h=x.current;if(l)return!1;if(f){h.isTriggeringEvent=!0;let s=new R("pressup",c,e);return f(s),h.isTriggeringEvent=!1,s.shouldStopPropagation}return!0}),S=C(e=>{let c=x.current;c.isPressed&&c.target&&(c.isOverTarget&&c.pointerType!=null&&y(m(c.target,e),c.pointerType,!1),c.isPressed=!1,c.isOverTarget=!1,c.activePointerId=null,c.pointerType=null,k(),b||X(c.target))}),U=C(e=>{T&&S(e)}),le=$.useMemo(()=>{let e=x.current,c={onKeyDown(s){if(H(s.nativeEvent,s.currentTarget)&&s.currentTarget.contains(s.target)){var d;ee(s.target,s.key)&&s.preventDefault();let n=!0;if(!e.isPressed&&!s.repeat){e.target=s.currentTarget,e.isPressed=!0,n=P(s,"keyboard");let a=s.currentTarget,g=M=>{H(M,a)&&!M.repeat&&a.contains(M.target)&&e.target&&O(m(e.target,M),"keyboard")};K(w(s.currentTarget),"keyup",ve(g,h),!0)}n&&s.stopPropagation(),s.metaKey&&F()&&((d=e.metaKeyEvents)===null||d===void 0||d.set(s.key,s.nativeEvent))}else s.key==="Meta"&&(e.metaKeyEvents=new Map)},onClick(s){if(!(s&&!s.currentTarget.contains(s.target))&&s&&s.button===0&&!e.isTriggeringEvent&&!A.isOpening){let d=!0;if(l&&s.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(e.pointerType==="virtual"||z(s.nativeEvent))){!l&&!v&&I(s.currentTarget);let n=P(s,"virtual"),a=O(s,"virtual"),g=y(s,"virtual");d=n&&a&&g}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,d&&s.stopPropagation()}}},h=s=>{var d;if(e.isPressed&&e.target&&H(s,e.target)){var n;ee(s.target,s.key)&&s.preventDefault();let g=s.target;y(m(e.target,s),"keyboard",e.target.contains(g)),k(),s.key!=="Enter"&&j(e.target)&&e.target.contains(g)&&!s[Q]&&(s[Q]=!0,A(e.target,s,!1)),e.isPressed=!1,(n=e.metaKeyEvents)===null||n===void 0||n.delete(s.key)}else if(s.key==="Meta"&&(!((d=e.metaKeyEvents)===null||d===void 0)&&d.size)){var a;let g=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let M of g.values())(a=e.target)===null||a===void 0||a.dispatchEvent(new KeyboardEvent("keyup",M))}};if(typeof PointerEvent<"u"){c.onPointerDown=a=>{if(a.button!==0||!a.currentTarget.contains(a.target))return;if(ge(a.nativeEvent)){e.pointerType="virtual";return}N(a.currentTarget)&&a.preventDefault(),e.pointerType=a.pointerType;let g=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=a.pointerId,e.target=a.currentTarget,!l&&!v&&I(a.currentTarget),b||q(e.target),g=P(a,e.pointerType),K(w(a.currentTarget),"pointermove",s,!1),K(w(a.currentTarget),"pointerup",d,!1),K(w(a.currentTarget),"pointercancel",n,!1)),g&&a.stopPropagation()},c.onMouseDown=a=>{a.currentTarget.contains(a.target)&&a.button===0&&(N(a.currentTarget)&&a.preventDefault(),a.stopPropagation())},c.onPointerUp=a=>{!a.currentTarget.contains(a.target)||e.pointerType==="virtual"||a.button===0&&_(a,a.currentTarget)&&O(a,e.pointerType||a.pointerType)};let s=a=>{a.pointerId===e.activePointerId&&(e.target&&_(a,e.target)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,P(m(e.target,a),e.pointerType)):e.target&&e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,y(m(e.target,a),e.pointerType,!1),U(a)))},d=a=>{a.pointerId===e.activePointerId&&e.isPressed&&a.button===0&&e.target&&(_(a,e.target)&&e.pointerType!=null?y(m(e.target,a),e.pointerType):e.isOverTarget&&e.pointerType!=null&&y(m(e.target,a),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,k(),b||X(e.target))},n=a=>{S(a)};c.onDragStart=a=>{a.currentTarget.contains(a.target)&&S(a)}}else{c.onMouseDown=n=>{if(n.button!==0||!n.currentTarget.contains(n.target))return;if(N(n.currentTarget)&&n.preventDefault(),e.ignoreEmulatedMouseEvents){n.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=n.currentTarget,e.pointerType=z(n.nativeEvent)?"virtual":"mouse",!l&&!v&&I(n.currentTarget),P(n,e.pointerType)&&n.stopPropagation(),K(w(n.currentTarget),"mouseup",s,!1)},c.onMouseEnter=n=>{if(!n.currentTarget.contains(n.target))return;let a=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!0,a=P(n,e.pointerType)),a&&n.stopPropagation()},c.onMouseLeave=n=>{if(!n.currentTarget.contains(n.target))return;let a=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!1,a=y(n,e.pointerType,!1),U(n)),a&&n.stopPropagation()},c.onMouseUp=n=>{n.currentTarget.contains(n.target)&&!e.ignoreEmulatedMouseEvents&&n.button===0&&O(n,e.pointerType||"mouse")};let s=n=>{if(n.button===0){if(e.isPressed=!1,k(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&_(n,e.target)&&e.pointerType!=null?y(m(e.target,n),e.pointerType):e.target&&e.isOverTarget&&e.pointerType!=null&&y(m(e.target,n),e.pointerType,!1),e.isOverTarget=!1}};c.onTouchStart=n=>{if(!n.currentTarget.contains(n.target))return;let a=Le(n.nativeEvent);if(!a)return;e.activePointerId=a.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=n.currentTarget,e.pointerType="touch",!l&&!v&&I(n.currentTarget),b||q(e.target),P(E(e.target,n),e.pointerType)&&n.stopPropagation(),K(B(n.currentTarget),"scroll",d,!0)},c.onTouchMove=n=>{if(!n.currentTarget.contains(n.target))return;if(!e.isPressed){n.stopPropagation();return}let a=Z(n.nativeEvent,e.activePointerId),g=!0;a&&_(a,n.currentTarget)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,g=P(E(e.target,n),e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,g=y(E(e.target,n),e.pointerType,!1),U(E(e.target,n))),g&&n.stopPropagation()},c.onTouchEnd=n=>{if(!n.currentTarget.contains(n.target))return;if(!e.isPressed){n.stopPropagation();return}let a=Z(n.nativeEvent,e.activePointerId),g=!0;a&&_(a,n.currentTarget)&&e.pointerType!=null?(O(E(e.target,n),e.pointerType),g=y(E(e.target,n),e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(g=y(E(e.target,n),e.pointerType,!1)),g&&n.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!b&&X(e.target),k()},c.onTouchCancel=n=>{n.currentTarget.contains(n.target)&&(n.stopPropagation(),e.isPressed&&S(E(e.target,n)))};let d=n=>{e.isPressed&&n.target.contains(e.target)&&S({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};c.onDragStart=n=>{n.currentTarget.contains(n.target)&&S(n)}}return c},[K,l,v,k,b,S,U,y,P,O]);return $.useEffect(()=>()=>{var e;b||X((e=x.current.target)!==null&&e!==void 0?e:void 0)},[b]),{isPressed:p||oe,pressProps:re(se,le)}}function j(t){return t.tagName==="A"&&t.hasAttribute("href")}function H(t,r){const{key:i,code:o}=t,u=r,f=u.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||o==="Space")&&!(u instanceof B(u).HTMLInputElement&&!ie(u,i)||u instanceof B(u).HTMLTextAreaElement||u.isContentEditable)&&!((f==="link"||!f&&j(u))&&i!=="Enter")}function Le(t){const{targetTouches:r}=t;return r.length>0?r[0]:null}function Z(t,r){const i=t.changedTouches;for(let o=0;o<i.length;o++){const u=i[o];if(u.identifier===r)return u}return null}function E(t,r){let i=0,o=0;return r.targetTouches&&r.targetTouches.length===1&&(i=r.targetTouches[0].clientX,o=r.targetTouches[0].clientY),{currentTarget:t,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:i,clientY:o}}function m(t,r){let i=r.clientX,o=r.clientY;return{currentTarget:t,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:i,clientY:o}}function Ae(t){let r=0,i=0;return t.width!==void 0?r=t.width/2:t.radiusX!==void 0&&(r=t.radiusX),t.height!==void 0?i=t.height/2:t.radiusY!==void 0&&(i=t.radiusY),{top:t.clientY-i,right:t.clientX+r,bottom:t.clientY+i,left:t.clientX-r}}function Ce(t,r){return!(t.left>r.right||r.left>t.right||t.top>r.bottom||r.top>t.bottom)}function _(t,r){let i=r.getBoundingClientRect(),o=Ae(t);return Ce(i,o)}function N(t){return!(t instanceof HTMLElement)||!t.hasAttribute("draggable")}function ee(t,r){return t instanceof HTMLInputElement?!ie(t,r):t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!j(t)}const Ie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ie(t,r){return t.type==="checkbox"||t.type==="radio"?r===" ":Ie.has(t.type)}export{Ge as $,Oe as _,Xe as a,me as b,Re as c,Ye as d,ne as e,Se as f,A as g};
