import{b as x,c as m}from"./focusSafely-ByiDPXQJ.js";import{a as b}from"./useFocusable-CuIK6Qs-.js";import{r,R as S}from"./index-CTjT7uj6.js";import{R as p}from"./index-9r8iugjR.js";function C(...t){return t.length===1&&t[0]?t[0]:l=>{for(let e of t)typeof e=="function"?e(l):e!=null&&(e.current=l)}}const c=Symbol("default");function N({values:t,children:l}){for(let[e,n]of t)l=S.createElement(e.Provider,{value:n},l);return l}function R(t){let{className:l,style:e,children:n,defaultClassName:f,defaultChildren:a,defaultStyle:i,values:s}=t;return r.useMemo(()=>{let u,d,o;return typeof l=="function"?u=l({...s,defaultClassName:f}):u=l,typeof e=="function"?d=e({...s,defaultStyle:i||{}}):d=e,typeof n=="function"?o=n({...s,defaultChildren:a}):n==null?o=a:o=n,{className:u??f,style:d||i?{...i,...d}:void 0,children:o??a,"data-rac":""}},[l,e,n,f,a,i,s])}function v(t,l){let e=r.useContext(t);if(l===null)return null;if(e&&typeof e=="object"&&"slots"in e&&e.slots){let n=new Intl.ListFormat().format(Object.keys(e.slots).map(a=>`"${a}"`));if(!l&&!e.slots[c])throw new Error(`A slot prop is required. Valid slot names are ${n}.`);let f=l||c;if(!e.slots[f])throw new Error(`Invalid slot "${l}". Valid slot names are ${n}.`);return e.slots[f]}return e}function k(t,l,e){let n=v(e,t.slot)||{},{ref:f,...a}=n,i=b(r.useMemo(()=>C(l,f),[l,f])),s=x(a,t);return"style"in a&&a.style&&"style"in t&&t.style&&(typeof a.style=="function"||typeof t.style=="function"?s.style=u=>{let d=typeof a.style=="function"?a.style(u):a.style,o={...u.defaultStyle,...d},y=typeof t.style=="function"?t.style({...u,defaultStyle:o}):t.style;return{...o,...y}}:s.style={...a.style,...t.style}),[s,i]}function L(){let[t,l]=r.useState(!0),e=r.useRef(!1),n=r.useCallback(f=>{e.current=!0,l(!!f)},[]);return m(()=>{e.current||l(!1)},[]),[n,t]}function M(t,l=!0){let[e,n]=r.useState(!0);return $(t,e&&l,r.useCallback(()=>n(!1),[])),e&&l}function j(t,l){let[e,n]=r.useState(!1),[f,a]=r.useState("idle");return!l&&t.current&&f==="idle"&&(e=!0,n(!0),a("exiting")),!t.current&&f==="exited"&&a("idle"),$(t,e,r.useCallback(()=>{a("exited"),n(!1)},[])),e}function $(t,l,e){let n=r.useRef(null);l&&t.current&&(n.current=window.getComputedStyle(t.current).animation),m(()=>{if(l&&t.current){let f=window.getComputedStyle(t.current);if(f.animationName&&f.animationName!=="none"&&f.animation!==n.current){let a=s=>{s.target===t.current&&(i.removeEventListener("animationend",a),p.flushSync(()=>{e()}))},i=t.current;return i.addEventListener("animationend",a),()=>{i.removeEventListener("animationend",a)}}else e()}},[t,l,e])}export{k as $,R as a,N as b,j as c,M as d,v as e,L as f};
