import{R as N,r as u}from"./index-CTjT7uj6.js";import{a as R,$ as _}from"./SSRProvider-C8o06Znb.js";const $=typeof document<"u"?N.useLayoutEffect:()=>{};function x(e){const t=u.useRef(null);return $(()=>{t.current=e},[e]),u.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}function j(e){let[t,n]=u.useState(e),r=u.useRef(null),o=x(()=>{if(!r.current)return;let a=r.current.next();if(a.done){r.current=null;return}t===a.value?o():n(a.value)});$(()=>{r.current&&o()});let i=x(a=>{r.current=a(t),o()});return[t,i]}let V=!!(typeof window<"u"&&window.document&&window.document.createElement),w=new Map;function U(e){let[t,n]=u.useState(e),r=u.useRef(null),o=R(t),i=u.useCallback(a=>{r.current=a},[]);return V&&w.set(o,i),$(()=>{let a=o;return()=>{w.delete(a)}},[o]),u.useEffect(()=>{let a=r.current;a&&(r.current=null,n(a))}),o}function W(e,t){if(e===t)return e;let n=w.get(e);if(n)return n(t),t;let r=w.get(t);return r?(r(e),e):t}function se(e=[]){let t=U(),[n,r]=j(t),o=u.useCallback(()=>{r(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,r]);return $(o,[t,o,...e]),n}function B(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const m=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},d=e=>e&&"window"in e&&e.window===e?e:m(e).defaultView||window;function C(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=C(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function z(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=C(e))&&(r&&(r+=" "),r+=t);return r}function be(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let o in r){let i=t[o],a=r[o];typeof i=="function"&&typeof a=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=B(i,a):(o==="className"||o==="UNSAFE_className")&&typeof i=="string"&&typeof a=="string"?t[o]=z(i,a):o==="id"&&i&&a?t.id=W(i,a):t[o]=a!==void 0?a:i}}return t}function P(e){if(q())e.focus({preventScroll:!0});else{let t=G(e);e.focus(),Y(t)}}let g=null;function q(){if(g==null){g=!1;try{document.createElement("div").focus({get preventScroll(){return g=!0,!0}})}catch{}}return g}function G(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Y(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function L(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function k(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function l(e){let t=null;return()=>(t==null&&(t=e()),t)}const H=l(function(){return k(/^Mac/i)}),J=l(function(){return k(/^iPhone/i)}),Q=l(function(){return k(/^iPad/i)||H()&&navigator.maxTouchPoints>1}),X=l(function(){return J()||Q()}),$e=l(function(){return H()||X()}),pe=l(function(){return L(/AppleWebKit/i)&&!Z()}),Z=l(function(){return L(/Chrome/i)}),F=l(function(){return L(/Android/i)}),ve=l(function(){return L(/Firefox/i)});let b=new Map,M=new Set;function I(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let o=b.get(r.target);o||(o=new Set,b.set(r.target,o),r.target.addEventListener("transitioncancel",n,{once:!0})),o.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let o=b.get(r.target);if(o&&(o.delete(r.propertyName),o.size===0&&(r.target.removeEventListener("transitioncancel",n),b.delete(r.target)),b.size===0)){for(let i of M)i();M.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?I():document.addEventListener("DOMContentLoaded",I));function ee(e){requestAnimationFrame(()=>{b.size===0?e():M.add(e)})}function me(e,t){$(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function te(e){return e.mozInputSource===0&&e.isTrusted?!0:F()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Ee(e){return!F()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}class ne{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function ge(e){let t=u.useRef({isFocused:!1,observer:null});$(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=x(r=>{e==null||e(r)});return u.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=a=>{t.current.isFocused=!1,o.disabled&&n(new ne("blur",a)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let E=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:E})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:E}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let f=null,v=new Set,p=new Map,s=!1,S=!1;const re={Tab:!0,Escape:!0};function T(e,t){for(let n of v)n(e,t)}function oe(e){return!(e.metaKey||!H()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function y(e){s=!0,oe(e)&&(f="keyboard",T("keyboard",e))}function c(e){f="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(s=!0,T("pointer",e))}function A(e){te(e)&&(s=!0,f="virtual")}function D(e){e.target===window||e.target===document||(!s&&!S&&(f="virtual",T("virtual",e)),s=!1,S=!1)}function K(){s=!1,S=!0}function h(e){if(typeof window>"u"||p.get(d(e)))return;const t=d(e),n=m(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){s=!0,r.apply(this,arguments)},n.addEventListener("keydown",y,!0),n.addEventListener("keyup",y,!0),n.addEventListener("click",A,!0),t.addEventListener("focus",D,!0),t.addEventListener("blur",K,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",c,!0),n.addEventListener("pointermove",c,!0),n.addEventListener("pointerup",c,!0)):(n.addEventListener("mousedown",c,!0),n.addEventListener("mousemove",c,!0),n.addEventListener("mouseup",c,!0)),t.addEventListener("beforeunload",()=>{O(e)},{once:!0}),p.set(t,{focus:r})}const O=(e,t)=>{const n=d(e),r=m(e);t&&r.removeEventListener("DOMContentLoaded",t),p.has(n)&&(n.HTMLElement.prototype.focus=p.get(n).focus,r.removeEventListener("keydown",y,!0),r.removeEventListener("keyup",y,!0),r.removeEventListener("click",A,!0),n.removeEventListener("focus",D,!0),n.removeEventListener("blur",K,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",c,!0),r.removeEventListener("pointermove",c,!0),r.removeEventListener("pointerup",c,!0)):(r.removeEventListener("mousedown",c,!0),r.removeEventListener("mousemove",c,!0),r.removeEventListener("mouseup",c,!0)),p.delete(n))};function ae(e){const t=m(e);let n;return t.readyState!=="loading"?h(e):(n=()=>{h(e)},t.addEventListener("DOMContentLoaded",n)),()=>O(e,n)}typeof document<"u"&&ae();function ie(){return f!=="pointer"}function ue(){return f}function we(e){f=e,T(e,null)}function ye(){h();let[e,t]=u.useState(f);return u.useEffect(()=>{let n=()=>{t(f)};return v.add(n),()=>{v.delete(n)}},[]),_()?null:e}const ce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function fe(e,t,n){var r;const o=typeof window<"u"?d(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?d(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?d(n==null?void 0:n.target).HTMLElement:HTMLElement,E=typeof window<"u"?d(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof o&&!ce.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof i||(n==null?void 0:n.target)instanceof a&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof E&&!re[n.key])}function he(e,t,n){h(),u.useEffect(()=>{let r=(o,i)=>{fe(!!(n!=null&&n.isTextInput),o,i)&&e(ie())};return v.add(r),()=>{v.delete(r)}},t)}function Le(e){const t=m(e);if(ue()==="virtual"){let n=t.activeElement;ee(()=>{t.activeElement===n&&e.isConnected&&P(e)})}else P(e)}export{ge as $,U as a,be as b,$ as c,ie as d,he as e,x as f,we as g,se as h,m as i,Le as j,me as k,pe as l,H as m,B as n,ue as o,d as p,ve as q,Q as r,P as s,X as t,ee as u,Ee as v,te as w,ye as x,$e as y};
