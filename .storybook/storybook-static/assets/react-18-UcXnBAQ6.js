import{R as u,r as n}from"./index-CTjT7uj6.js";import{c}from"./client-C7R75yIL.js";var o=new Map,m=({callback:e,children:r})=>{let t=n.useRef();return n.useLayoutEffect(()=>{t.current!==e&&(t.current=e,e())},[e]),r},p=async(e,r,t)=>{let a=await i(r,t);return new Promise(s=>{a.render(u.createElement(m,{callback:()=>s(null)},e))})},d=(e,r)=>{let t=o.get(e);t&&(t.unmount(),o.delete(e))},i=async(e,r)=>{let t=o.get(e);return t||(t=c.createRoot(e,r),o.set(e,t)),t};export{p as r,d as u};
