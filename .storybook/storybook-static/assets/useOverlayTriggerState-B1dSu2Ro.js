import{r as l,R as f}from"./index-CTjT7uj6.js";import{b as u}from"./focusSafely-ByiDPXQJ.js";import{$ as d}from"./useFocusWithin-C7oArVkD.js";import{$ as p}from"./useControlledState-CEg4Rl-x.js";const $=new WeakMap;function y(n){let{triggerRef:e,isOpen:t,onClose:s}=n;l.useEffect(()=>{if(!t||s===null)return;let o=r=>{let a=r.target;if(!e.current||a instanceof Node&&!a.contains(e.current)||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)return;let c=s||$.get(e.current);c&&c()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[t,s,e])}const i={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function b(n={}){let{style:e,isFocusable:t}=n,[s,o]=l.useState(!1),{focusWithinProps:r}=d({isDisabled:!t,onFocusWithinChange:c=>o(c)}),a=l.useMemo(()=>s?e:e?{...i,...e}:i,[s]);return{visuallyHiddenProps:{...r,style:a}}}function v(n){let{children:e,elementType:t="div",isFocusable:s,style:o,...r}=n,{visuallyHiddenProps:a}=b(n);return f.createElement(t,u(r,a),e)}function w(n){let[e,t]=p(n.isOpen,n.defaultOpen||!1,n.onOpenChange);const s=l.useCallback(()=>{t(!0)},[t]),o=l.useCallback(()=>{t(!1)},[t]),r=l.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:s,close:o,toggle:r}}export{w as $,v as a,y as b,b as c,$ as d};
