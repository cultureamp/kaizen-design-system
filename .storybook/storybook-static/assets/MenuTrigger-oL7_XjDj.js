import{R as u,r as a}from"./index-CTjT7uj6.js";import{m as $e}from"./mergeClassNames-DEvgSslo.js";import{$ as Xe,a as Ge}from"./Button-AbBbn7Lr.js";import{R as Qe,r as Ze}from"./index-9r8iugjR.js";import{$ as te}from"./SSRProvider-C8o06Znb.js";import{b as M,k as et,c as O,t as tt,n as G,h as Y,d as nt,a as it}from"./focusSafely-ByiDPXQJ.js";import{$ as L,c as ot,d as rt,a as B,b as ne,e as lt,f as st}from"./utils-e-dMXvly.js";import{$ as at,a as dt,c as ct}from"./OverlayArrow-5tjFEuMh.js";import{e as Q,a as R,b as ut,$ as ft,c as pt}from"./usePress-nudZ2Xgz.js";import{$ as ht}from"./useOverlayTriggerState-B1dSu2Ro.js";import{i as bt,$ as mt,a as $t,b as vt,c as yt,d as gt,e as xt,j as ue,g as Ct,k as St}from"./SelectionManager-yuMfDyd5.js";import{$ as ve}from"./getScrollParent-DhLua4dp.js";import{a as ye,d as wt,b as Et}from"./useFocusable-CuIK6Qs-.js";import{c as ge}from"./useCollator-DHdgfgeP.js";import{$ as xe}from"./useHover-Bq751pFs.js";import{$ as Pt}from"./useMenuTriggerState-D_-PdoOj.js";import{a as Mt}from"./useButton-CDp2hby9.js";import{$ as kt}from"./useControlledState-CEg4Rl-x.js";const Kt=u.forwardRef(({children:n,...e},t)=>{let o=a.useRef(!1),i=a.useContext(Q);t=ye(t||(i==null?void 0:i.ref));let r=M(i||{},{...e,ref:t,register(){o.current=!0,i&&i.register()}});return et(i,t),a.useEffect(()=>{o.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),o.current=!0)},[]),u.createElement(Q.Provider,{value:r},n)});function Dt({children:n}){let e=a.useMemo(()=>({register:()=>{}}),[]);return u.createElement(Q.Provider,{value:e},n)}const j=typeof document<"u"&&window.visualViewport,Nt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let F=0,J;function Rt(n={}){let{isDisabled:e}=n;O(()=>{if(!e)return F++,F===1&&(tt()?J=_t():J=Tt()),()=>{F--,F===0&&J()}},[e])}function Tt(){return G(E(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),E(document.documentElement,"overflow","hidden"))}function _t(){let n,e,t=c=>{n=ve(c.target,!0),!(n===document.documentElement&&n===document.body)&&n instanceof HTMLElement&&window.getComputedStyle(n).overscrollBehavior==="auto"&&(e=E(n,"overscrollBehavior","contain"))},o=c=>{if(!n||n===document.documentElement||n===document.body){c.preventDefault();return}n.scrollHeight===n.clientHeight&&n.scrollWidth===n.clientWidth&&c.preventDefault()},i=c=>{let f=c.target;pe(f)&&f!==document.activeElement&&(c.preventDefault(),d(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""})),e&&e()},r=c=>{let f=c.target;pe(f)&&(d(),f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",j&&(j.height<window.innerHeight?requestAnimationFrame(()=>{fe(f)}):j.addEventListener("resize",()=>fe(f),{once:!0}))}))},s=null,d=()=>{if(s)return;let c=()=>{window.scrollTo(0,0)},f=window.pageXOffset,h=window.pageYOffset;s=G(k(window,"scroll",c),E(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),E(document.documentElement,"overflow","hidden"),E(document.body,"marginTop",`-${h}px`),()=>{window.scrollTo(f,h)}),window.scrollTo(0,0)},l=G(k(document,"touchstart",t,{passive:!1,capture:!0}),k(document,"touchmove",o,{passive:!1,capture:!0}),k(document,"touchend",i,{passive:!1,capture:!0}),k(document,"focus",r,!0));return()=>{e==null||e(),s==null||s(),l()}}function E(n,e,t){let o=n.style[e];return n.style[e]=t,()=>{n.style[e]=o}}function k(n,e,t,o){return n.addEventListener(e,t,o),()=>{n.removeEventListener(e,t,o)}}function fe(n){let e=document.scrollingElement||document.documentElement;for(;n&&n!==e;){let t=ve(n);if(t!==document.documentElement&&t!==document.body&&t!==n){let o=t.getBoundingClientRect().top,i=n.getBoundingClientRect().top;i>o+n.clientHeight&&(t.scrollTop+=i-o)}n=t.parentElement}}function pe(n){return n instanceof HTMLInputElement&&!Nt.has(n.type)||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable}let K=new WeakMap,$=[];function It(n,e=document.body){let t=new Set(n),o=new Set,i=l=>{for(let p of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))t.add(p);let c=p=>{if(t.has(p)||o.has(p.parentElement)&&p.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let m of t)if(p.contains(m))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},f=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),h=c(l);if(h===NodeFilter.FILTER_ACCEPT&&r(l),h!==NodeFilter.FILTER_REJECT){let p=f.nextNode();for(;p!=null;)r(p),p=f.nextNode()}},r=l=>{var c;let f=(c=K.get(l))!==null&&c!==void 0?c:0;l.getAttribute("aria-hidden")==="true"&&f===0||(f===0&&l.setAttribute("aria-hidden","true"),o.add(l),K.set(l,f+1))};$.length&&$[$.length-1].disconnect(),i(e);let s=new MutationObserver(l=>{for(let c of l)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...t,...o].some(f=>f.contains(c.target))){for(let f of c.removedNodes)f instanceof Element&&(t.delete(f),o.delete(f));for(let f of c.addedNodes)(f instanceof HTMLElement||f instanceof SVGElement)&&(f.dataset.liveAnnouncer==="true"||f.dataset.reactAriaTopLayer==="true")?t.add(f):f instanceof Element&&i(f)}});s.observe(e,{childList:!0,subtree:!0});let d={observe(){s.observe(e,{childList:!0,subtree:!0})},disconnect(){s.disconnect()}};return $.push(d),()=>{s.disconnect();for(let l of o){let c=K.get(l);c===1?(l.removeAttribute("aria-hidden"),K.delete(l)):K.set(l,c-1)}d===$[$.length-1]?($.pop(),$.length&&$[$.length-1].observe()):$.splice($.indexOf(d),1)}}function Ft(n,e){let{triggerRef:t,popoverRef:o,isNonModal:i,isKeyboardDismissDisabled:r,shouldCloseOnInteractOutside:s,...d}=n,{overlayProps:l,underlayProps:c}=bt({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!i,isKeyboardDismissDisabled:r,shouldCloseOnInteractOutside:s},o),{overlayProps:f,arrowProps:h,placement:p}=at({...d,targetRef:t,overlayRef:o,isOpen:e.isOpen,onClose:i?e.close:null});return Rt({isDisabled:i||!e.isOpen}),O(()=>{if(e.isOpen&&!i&&o.current)return It([o.current])},[i,e.isOpen,o]),{popoverProps:M(l,f),arrowProps:h,underlayProps:c,placement:p}}const At=a.createContext({});function Ot(){var n;return(n=a.useContext(At))!==null&&n!==void 0?n:{}}const Lt=u.createContext(null);function Bt(n){let e=te(),{portalContainer:t=e?null:document.body,isExiting:o}=n,[i,r]=a.useState(!1),s=a.useMemo(()=>({contain:i,setContain:r}),[i,r]),{getContainer:d}=Ot();if(!n.portalContainer&&d&&(t=d()),!t)return null;let l=n.children;return n.disableFocusManagement||(l=u.createElement(ge,{restoreFocus:!0,contain:i&&!o},l)),l=u.createElement(Lt.Provider,{value:s},u.createElement(Dt,null,l)),Qe.createPortal(l,t)}const Ce=new WeakMap;function Wt(n,e,t){let{shouldFocusWrap:o=!0,onKeyDown:i,onKeyUp:r,...s}=n;!n["aria-label"]&&!n["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let d=R(n,{labelable:!0}),{listProps:l}=mt({...s,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return Ce.set(e,{onClose:n.onClose,onAction:n.onAction}),{menuProps:M(d,{onKeyDown:i,onKeyUp:r},{role:"menu",...l,onKeyDown:c=>{c.key!=="Escape"&&l.onKeyDown(c)}})}}function Ht(n,e,t){let{id:o,key:i,closeOnSelect:r,isVirtualized:s,"aria-haspopup":d,onPressStart:l,onPressUp:c,onPress:f,onPressChange:h,onPressEnd:p,onHoverStart:m,onHoverChange:g,onHoverEnd:C,onKeyDown:y,onKeyUp:T,onFocus:W,onFocusChange:Ae,onBlur:Oe}=n,x=!!d;var H;let S=(H=n.isDisabled)!==null&&H!==void 0?H:e.selectionManager.isDisabled(i);var z;let re=(z=n.isSelected)!==null&&z!==void 0?z:e.selectionManager.isSelected(i),V=Ce.get(e),v=e.collection.getItem(i),w=n.onClose||V.onClose,Le=ut(),le=b=>{var q;if(!x){if(!(v==null||(q=v.props)===null||q===void 0)&&q.onAction&&v.props.onAction(),V.onAction){let Je=V.onAction;Je(i)}b.target instanceof HTMLAnchorElement&&Le.open(b.target,b,v.props.href,v.props.routerOptions)}},U="menuitem";x||(e.selectionManager.selectionMode==="single"?U="menuitemradio":e.selectionManager.selectionMode==="multiple"&&(U="menuitemcheckbox"));let se=Y(),ae=Y(),de=Y(),_={id:o,"aria-disabled":S||void 0,role:U,"aria-label":n["aria-label"],"aria-labelledby":se,"aria-describedby":[ae,de].filter(Boolean).join(" ")||void 0,"aria-controls":n["aria-controls"],"aria-haspopup":d,"aria-expanded":n["aria-expanded"]};e.selectionManager.selectionMode!=="none"&&!x&&(_["aria-checked"]=re),s&&(_["aria-posinset"]=v==null?void 0:v.index,_["aria-setsize"]=$t(e.collection));let Be=b=>{b.pointerType==="keyboard"&&le(b),l==null||l(b)},We=b=>{b.pointerType!=="keyboard"&&(le(b),!x&&w&&(r??(e.selectionManager.selectionMode!=="multiple"||e.selectionManager.isLink(i)))&&w()),c==null||c(b)},{itemProps:I,isFocused:He}=vt({selectionManager:e.selectionManager,key:i,ref:t,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:ze,isPressed:Ve}=ft({onPressStart:Be,onPress:f,onPressUp:We,onPressChange:h,onPressEnd:p,isDisabled:S}),{hoverProps:Ue}=xe({isDisabled:S,onHoverStart(b){nt()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(i)),m==null||m(b)},onHoverChange:g,onHoverEnd:C}),{keyboardProps:qe}=wt({onKeyDown:b=>{if(b.repeat){b.continuePropagation();return}switch(b.key){case" ":!S&&e.selectionManager.selectionMode==="none"&&!x&&r!==!1&&w&&w();break;case"Enter":!S&&r!==!1&&!x&&w&&w();break;default:x||b.continuePropagation(),y==null||y(b);break}},onKeyUp:T}),{focusProps:Ye}=Et({onBlur:Oe,onFocus:W,onFocusChange:Ae}),ce=R(v.props);delete ce.id;let je=pt(v.props);return{menuItemProps:{..._,...M(ce,je,x?{onFocus:I.onFocus,"data-key":I["data-key"]}:I,ze,Ue,qe,Ye),tabIndex:I.tabIndex!=null?-1:void 0},labelProps:{id:se},descriptionProps:{id:ae},keyboardShortcutProps:{id:de},isFocused:He,isSelected:re,isPressed:Ve,isDisabled:S}}function zt(n){let{heading:e,"aria-label":t}=n,o=it();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?o:void 0}}}class ie{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new ie(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.type=e,this.key=t}}class Vt{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let o=t.get(e),i=(o==null?void 0:o.firstChildKey)!=null?t.get(o.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?t.get(i.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var o;return(o=t==null?void 0:t.key)!==null&&o!==void 0?o:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,o=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!o}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}class Se{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}appendChild(e){this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode;let o=t;for(;o;)o.index++,o=o.nextSibling;e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}removeChild(e){if(e.parentNode!==this||!this.ownerDocument.isMounted)return;this.ownerDocument.startTransaction();let t=e.nextSibling;for(;t;)t.index--,t=t.nextSibling;e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.removeNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}addEventListener(){}removeEventListener(){}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this.ownerDocument=e}}class D extends Se{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof D?this.parentNode.level+(this.node.type==="item"?1:0):0}updateNode(){var e,t,o,i;let r=this.ownerDocument.getMutableNode(this);r.index=this.index,r.level=this.level,r.parentKey=this.parentNode instanceof D?this.parentNode.node.key:null;var s;r.prevKey=(s=(e=this.previousSibling)===null||e===void 0?void 0:e.node.key)!==null&&s!==void 0?s:null;var d;r.nextKey=(d=(t=this.nextSibling)===null||t===void 0?void 0:t.node.key)!==null&&d!==void 0?d:null,r.hasChildNodes=!!this.firstChild;var l;r.firstChildKey=(l=(o=this.firstChild)===null||o===void 0?void 0:o.node.key)!==null&&l!==void 0?l:null;var c;r.lastChildKey=(c=(i=this.lastChild)===null||i===void 0?void 0:i.node.key)!==null&&c!==void 0?c:null}setProps(e,t,o,i){let r=this.ownerDocument.getMutableNode(this),{value:s,textValue:d,id:l,...c}=e;if(c.ref=t,r.props=c,r.rendered=o,r.render=i,r.value=s,r.textValue=d||(typeof c.children=="string"?c.children:"")||e["aria-label"]||"",l!=null&&l!==r.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");r.key=l}this.hasSetProps||(this.ownerDocument.addNode(this),this.ownerDocument.endTransaction(),this.hasSetProps=!0),this.ownerDocument.queueUpdate()}get style(){return{}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this._index=0,this.hasSetProps=!1,this.node=new ie(e,`react-aria-${++t.nodeId}`),this.ownerDocument.startTransaction()}}class Ut extends Se{get isConnected(){return this.isMounted}createElement(e){return new D(e,this)}getMutableNode(e){let t=e.node;return this.mutatedNodes.has(e)||(t=e.node.clone(),this.mutatedNodes.add(e),e.node=t),this.markDirty(e),t}getMutableCollection(){return!this.isSSR&&!this.collectionMutated&&(this.collection=this.collection.clone(),this.collectionMutated=!0),this.collection}markDirty(e){this.dirtyNodes.add(e)}startTransaction(){this.transactionCount++}endTransaction(){this.transactionCount--}addNode(e){let t=this.getMutableCollection();if(!t.getItem(e.node.key)){t.addNode(e.node);for(let o of e)this.addNode(o)}this.markDirty(e)}removeNode(e){for(let o of e)this.removeNode(o);this.getMutableCollection().removeNode(e.node.key),this.markDirty(e)}getCollection(){return this.transactionCount>0?this.collection:(this.updateCollection(),this.collection)}updateCollection(){for(let r of this.dirtyNodes)r instanceof D&&r.isConnected&&r.updateNode();if(this.dirtyNodes.clear(),this.mutatedNodes.size||this.collectionMutated){var e,t;let r=this.getMutableCollection();for(let s of this.mutatedNodes)s.isConnected&&r.addNode(s.node);var o,i;r.commit((o=(e=this.firstChild)===null||e===void 0?void 0:e.node.key)!==null&&o!==void 0?o:null,(i=(t=this.lastChild)===null||t===void 0?void 0:t.node.key)!==null&&i!==void 0?i:null,this.isSSR),this.mutatedNodes.clear()}this.collectionMutated=!1}queueUpdate(){if(!(this.dirtyNodes.size===0||this.transactionCount>0))for(let e of this.subscriptions)e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.mutatedNodes=new Set,this.subscriptions=new Set,this.transactionCount=0,this.collection=e,this.collectionMutated=!0}}function we(n){let{children:e,items:t,idScope:o,addIdAndValue:i,dependencies:r=[]}=n,s=a.useMemo(()=>new WeakMap,r);return a.useMemo(()=>{if(t&&typeof e=="function"){let c=[];for(let f of t){let h=s.get(f);if(!h){h=e(f);var d,l;let p=(l=(d=h.props.id)!==null&&d!==void 0?d:f.key)!==null&&l!==void 0?l:f.id;if(p==null)throw new Error("Could not determine key for item");o&&(p=o+":"+p),h=a.cloneElement(h,i?{key:p,id:p,value:f}:{key:p}),s.set(f,h)}c.push(h)}return c}else if(typeof e!="function")return e},[e,t,s,o,i])}var Ee={exports:{}},Pe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=a;function qt(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Yt=typeof Object.is=="function"?Object.is:qt,jt=P.useState,Jt=P.useEffect,Xt=P.useLayoutEffect,Gt=P.useDebugValue;function Qt(n,e){var t=e(),o=jt({inst:{value:t,getSnapshot:e}}),i=o[0].inst,r=o[1];return Xt(function(){i.value=t,i.getSnapshot=e,X(i)&&r({inst:i})},[n,t,e]),Jt(function(){return X(i)&&r({inst:i}),n(function(){X(i)&&r({inst:i})})},[n]),Gt(t),t}function X(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Yt(n,t)}catch{return!0}}function Zt(n,e){return e()}var en=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zt:Qt;Pe.useSyncExternalStore=P.useSyncExternalStore!==void 0?P.useSyncExternalStore:en;Ee.exports=Pe;var tn=Ee.exports;const Me=a.createContext(!1),N=a.createContext(null);function nn(n){if(a.useContext(N))return n.content;let{collection:t,document:o}=sn(n.createCollection);return u.createElement(u.Fragment,null,u.createElement(Xe,null,u.createElement(N.Provider,{value:o},n.content)),u.createElement(on,{render:n.children,collection:t}))}function on({collection:n,render:e}){return e(n)}function rn(n,e,t){let o=te(),i=a.useRef(o);i.current=o;let r=a.useCallback(()=>i.current?t():e(),[e,t]);return tn.useSyncExternalStore(n,r)}const ln=typeof u.useSyncExternalStore=="function"?u.useSyncExternalStore:rn;function sn(n){let[e]=a.useState(()=>new Ut((n==null?void 0:n())||new Vt)),t=a.useCallback(s=>e.subscribe(s),[e]),o=a.useCallback(()=>{let s=e.getCollection();return e.isSSR&&e.resetAfterSSR(),s},[e]),i=a.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),r=ln(t,o,i);return O(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:r,document:e}}const Z=a.createContext(null);function ke(n,e,t,o,i,r){let s=a.useCallback(l=>{l==null||l.setProps(e,t,o,r)},[e,t,o,r]),d=a.useContext(Z);if(d){let l=d.ownerDocument.nodesByProps.get(e);return l||(l=d.ownerDocument.createElement(n),l.setProps(e,t,o,r),d.appendChild(l),d.ownerDocument.updateCollection(),d.ownerDocument.nodesByProps.set(e,l)),i?u.createElement(Z.Provider,{value:l},i):null}return u.createElement(n,{ref:s},i)}function Ke(n,e){let t=({node:i})=>e(i.props,i.props.ref,i),o=a.forwardRef((i,r)=>{if(!a.useContext(Me)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(i,r)}return ke(n,i,r,"children"in i?i.children:null,null,d=>u.createElement(t,{node:d}))});return o.displayName=e.name,o}function an(n,e,t=De){let o=({node:r})=>e(r.props,r.props.ref,r),i=a.forwardRef((r,s)=>{let d=t(r);var l;return(l=ke(n,r,s,null,d,c=>u.createElement(o,{node:c})))!==null&&l!==void 0?l:u.createElement(u.Fragment,null)});return i.displayName=e.name,i}function De(n){return we({...n,addIdAndValue:!0})}const he=a.createContext(null);function dn(n){let e=a.useContext(he),t=((e==null?void 0:e.dependencies)||[]).concat(n.dependencies),o=n.idScope||(e==null?void 0:e.idScope),i=De({...n,idScope:o,dependencies:t});return a.useContext(N)&&(i=u.createElement(cn,null,i)),e=a.useMemo(()=>({dependencies:t,idScope:o}),[o,...t]),u.createElement(he.Provider,{value:e},i)}function cn({children:n}){let e=a.useContext(N),t=a.useMemo(()=>u.createElement(N.Provider,{value:null},u.createElement(Me.Provider,{value:!0},n)),[n]);return te()?u.createElement(Z.Provider,{value:e},t):Ze.createPortal(t,e)}const Ne=a.createContext(null),Zn=an("section",(n,e,t)=>{let{render:o}=a.useContext(Ne);return o(n,e,t)}),un={CollectionRoot({collection:n,renderDropIndicator:e}){return be(n,null,e)},CollectionBranch({collection:n,parent:e,renderDropIndicator:t}){return be(n,e,t)}};function be(n,e,t){return we({items:e?n.getChildren(e.key):n,dependencies:[t],children(o){var i;let r=o.render(o);if(!t||o.type!=="item")return r;let s=o.key,d=n.getKeyAfter(s);return u.createElement(u.Fragment,null,t({type:"item",key:s,dropPosition:"before"}),r,(d==null||((i=n.getItem(d))===null||i===void 0?void 0:i.type)!=="item")&&t({type:"item",key:s,dropPosition:"after"}))}})}const Re=a.createContext(un);function fn(n){return a.useMemo(()=>n!=null?new Set([n]):null,[n])}const pn=a.createContext({});class hn{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.iterable=e,t=t||new Set;let o=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&(s.type==="section"||t.has(s.key)))for(let d of s.childNodes)o(d)};for(let s of e)o(s);let i,r=0;for(let[s,d]of this.keyMap)i?(i.nextKey=s,d.prevKey=i.key):(this.firstKey=s,d.prevKey=void 0),d.type==="item"&&(d.index=r++),i=d,i.nextKey=void 0;this.lastKey=i==null?void 0:i.key}}function bn(n){let{onExpandedChange:e}=n,[t,o]=kt(n.expandedKeys?new Set(n.expandedKeys):void 0,n.defaultExpandedKeys?new Set(n.defaultExpandedKeys):new Set,e),i=yt(n),r=a.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),s=gt(n,a.useCallback(l=>new hn(l,{expandedKeys:t}),[t]),null);return a.useEffect(()=>{i.focusedKey!=null&&!s.getItem(i.focusedKey)&&i.setFocusedKey(null)},[s,i.focusedKey]),{collection:s,expandedKeys:t,disabledKeys:r,toggleKey:l=>{o(mn(t,l))},setExpandedKeys:o,selectionManager:new xt(s,i)}}function mn(n,e){let t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t}const Te=a.createContext({}),ei=Ke("header",function(e,t){return[e,t]=L(e,t,Te),u.createElement("header",{className:"react-aria-Header",...e,ref:t},e.children)}),$n=a.createContext({}),A=a.createContext(null);function vn(n,e){[n,e]=L(n,e,A);let t=a.useContext(_e),o=ht(n),i=n.isOpen!=null||n.defaultOpen!=null||!t?o:t,r=ot(e,i.isOpen)||n.isExiting||!1;if(Ge()){let d=n.children;return typeof d=="function"&&(d=d({trigger:n.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),u.createElement(u.Fragment,null,d)}return i&&!i.isOpen&&!r?null:u.createElement(yn,{...n,triggerRef:n.triggerRef,state:i,popoverRef:e,isExiting:r})}const ti=a.forwardRef(vn);function yn({state:n,isExiting:e,UNSTABLE_portalContainer:t,...o}){let i=a.useRef(null),[r,s]=a.useState(0);O(()=>{i.current&&n.isOpen&&s(i.current.getBoundingClientRect().width)},[n.isOpen,i]);var d;let{popoverProps:l,underlayProps:c,arrowProps:f,placement:h}=Ft({...o,offset:(d=o.offset)!==null&&d!==void 0?d:8,arrowSize:r},n),p=o.popoverRef,m=rt(p,!!h)||o.isEntering||!1,g=B({...o,defaultClassName:"react-aria-Popover",values:{trigger:o.trigger||null,placement:h,isEntering:m,isExiting:e}}),C={...l.style,...g.style};return u.createElement(Bt,{isExiting:e,portalContainer:t},!o.isNonModal&&n.isOpen&&u.createElement("div",{"data-testid":"underlay",...c,style:{position:"fixed",inset:0}}),u.createElement("div",{...M(R(o),l),...g,ref:p,slot:o.slot||void 0,style:C,"data-trigger":o.trigger,"data-placement":h,"data-entering":m||void 0,"data-exiting":e||void 0},!o.isNonModal&&u.createElement(ue,{onDismiss:n.close}),u.createElement(dt.Provider,{value:{...f,placement:h,ref:i}},g.children),u.createElement(ue,{onDismiss:n.close})))}const _e=a.createContext(null),gn=a.createContext({}),Ie=a.createContext(null),oe=a.createContext(null),Fe=a.createContext(null);function xn(n){let e=Pt(n),t=a.useRef(null),{menuTriggerProps:o,menuProps:i}=Ct({...n,type:"menu"},e,t),[r,s]=a.useState(null),d=a.useCallback(()=>{t.current&&s(t.current.offsetWidth+"px")},[t]);ct({ref:t,onResize:d});let l=a.useRef(null);return u.createElement(ne,{values:[[Ie,{...i,ref:l}],[_e,e],[Fe,e],[A,{trigger:"MenuTrigger",triggerRef:t,scrollRef:l,placement:"bottom start",style:{"--trigger-width":r}}]]},u.createElement(Kt,{...o,ref:t,isPressed:e.isOpen},n.children))}const Cn=a.createContext(null);function Sn(n,e){return[n,e]=L(n,e,Ie),u.createElement(nn,{content:u.createElement(dn,n)},t=>t.size>0&&u.createElement(wn,{props:n,collection:t,menuRef:e}))}function wn({props:n,collection:e,menuRef:t}){let o=bn({...n,collection:e,children:void 0}),[i,r]=a.useState(null),{isVirtualized:s,CollectionRoot:d}=a.useContext(Re),{menuProps:l}=Wt({...n,isVirtualized:s},o,t),c=a.useContext(Fe),f=a.useContext(A),h=(f==null?void 0:f.trigger)==="SubmenuTrigger";St({ref:t,onInteractOutside:y=>{c&&!(i!=null&&i.contains(y.target))&&c.close()},isDisabled:h||(c==null?void 0:c.expandedKeysStack.length)===0});let p=a.useRef(null),[m,g]=a.useState({left:0});a.useEffect(()=>{if(i&&p.current!==i&&m.left===0){p.current=i;let{left:y}=i.getBoundingClientRect();g({left:-1*y})}},[m,i]);let C=B({defaultClassName:"react-aria-Menu",className:n.className,style:n.style,values:{}});return u.createElement(ge,null,u.createElement("div",{...R(n),...l,...C,ref:t,slot:n.slot||void 0,onScroll:n.onScroll},u.createElement(ne,{values:[[oe,o],[$n,{elementType:"div"}],[A,{UNSTABLE_portalContainer:i||void 0}],[Ne,{render:Pn}],[Cn,{parentMenuRef:t}],[ee,null]]},u.createElement(d,{collection:e,persistedKeys:fn(o.selectionManager.focusedKey),scrollRef:t}))),u.createElement("div",{ref:r,style:{width:"100vw",position:"absolute",top:0,...m}}))}const En=a.forwardRef(Sn);function Pn(n,e,t){var o,i;let r=a.useContext(oe),{CollectionBranch:s}=a.useContext(Re),[d,l]=st();var c;let{headingProps:f,groupProps:h}=zt({heading:l,"aria-label":(c=t.props["aria-label"])!==null&&c!==void 0?c:void 0}),p=B({defaultClassName:"react-aria-Section",className:(o=t.props)===null||o===void 0?void 0:o.className,style:(i=t.props)===null||i===void 0?void 0:i.style,values:{}});return u.createElement("section",{...R(n),...h,...p,ref:e},u.createElement(Te.Provider,{value:{...f,ref:d}},u.createElement(s,{collection:r.collection,parent:t})))}const ee=a.createContext(null),Mn=Ke("item",function(e,t,o){var i;[e,t]=L(e,t,ee);let r=(i=lt(ee))===null||i===void 0?void 0:i.id,s=a.useContext(oe),d=ye(t),{menuItemProps:l,labelProps:c,descriptionProps:f,keyboardShortcutProps:h,...p}=Ht({...e,id:r,key:o.key},s,d),{isFocusVisible:m,focusProps:g}=Mt(),{hoverProps:C,isHovered:y}=xe({isDisabled:p.isDisabled}),T=B({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...p,isHovered:y,isFocusVisible:m,selectionMode:s.selectionManager.selectionMode,selectionBehavior:s.selectionManager.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),W=e.href?"a":"div";return u.createElement(W,{...M(l,g,C),...T,ref:d,"data-disabled":p.isDisabled||void 0,"data-hovered":y||void 0,"data-focused":p.isFocused||void 0,"data-focus-visible":m||void 0,"data-pressed":p.isPressed||void 0,"data-selected":p.isSelected||void 0,"data-selection-mode":s.selectionManager.selectionMode==="none"?void 0:s.selectionManager.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},u.createElement(ne,{values:[[pn,{slots:{label:c,description:f}}],[gn,h]]},T.children))}),kn="_menu_1to3b_1",Kn={menu:kn},Dn=a.forwardRef(({className:n,...e},t)=>u.createElement(En,{className:$e(Kn.menu,n),ref:t,...e}));Dn.__docgenInfo={description:"A menu displays a list of actions or options that a user can choose.",methods:[],displayName:"Menu"};const Nn="_item_1gi9v_1",Rn="_iconWrapper_1gi9v_19",me={item:Nn,iconWrapper:Rn},Tn=a.forwardRef(({className:n,icon:e,children:t,...o},i)=>u.createElement(Mn,{ref:i,className:$e(me.item,n),...o},u.createElement(u.Fragment,null,e&&u.createElement("span",{className:me.iconWrapper},e),t)));Tn.__docgenInfo={description:"A MenuItem represents an individual action in a Menu.",methods:[],displayName:"MenuItem"};const _n=n=>u.createElement(xn,{...n});_n.__docgenInfo={description:"A MenuTrigger adds open/close functionality when wrapping a Button and a Popover (with a Menu inside of the Popover)",methods:[],displayName:"MenuTrigger"};export{ti as $,_n as M,Dn as a,Tn as b,Zn as c,ei as d};
