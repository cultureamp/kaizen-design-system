import{r as u,R as w}from"./index-CTjT7uj6.js";import{u as o,e as n,w as p}from"./index-BySiBzEG.js";import{R as y}from"./RichTextEditor-Cch1l_4N.js";import"./index-DZLKizrv.js";import"./index-CCQ3W5xA.js";import"./Label-DlmzItqQ.js";import"./useRichTextEditor-BOueCohL.js";import"./validation-C7DrCRoJ.js";import"./IncreaseIndentIcon-pGkYMmfx.js";import"./SVG-7WFwBCn9.js";import"./BoldIcon-BoDzys8O.js";import"./UnderlineIcon-C1wYI3bX.js";import"./ToolbarSection-DJiy3mWF.js";import"./ToggleIconButton-DNSnfJQm.js";import"./index-CdP7-hSn.js";import"./index-9r8iugjR.js";import"./usePopper-D4ykrdaR.js";import"./client-C7R75yIL.js";import"./EditIcon-r0BJhC_f.js";import"./ExternalLinkIcon-D-unubvU.js";import"./RemoveLinkIcon-D9z3k6B4.js";import"./Text-D2gQH1xL.js";import"./Popover-BcT7iVVN.js";import"./Heading-Y5F8SWRW.js";import"./CloseIcon-BAUhi63R.js";import"./CautionIcon-D4m_GXrx.js";import"./ExclamationIcon-CBwbCtpu.js";import"./InformationIcon-DxLaBSbb.js";import"./SuccessIcon-BInyqVzG.js";import"./LinkModal-DKIlHPDl.js";import"./TextField-C70Pg5K2.js";import"./FieldGroup-Dj6p3DL3.js";import"./Input-BFyrvMXQ.js";import"./FieldMessage-D8OmrYjz.js";import"./ExclamationWhiteIcon-dXgVQUA_.js";import"./InputEditModal-CPT2Z1ib.js";import"./GenericModal-PBdxQDAn.js";import"./objectWithoutPropertiesLoose-gpp6Tpz-.js";import"./defineProperty-C21ZqnLH.js";import"./Trap-DVnrG7EK.js";import"./inheritsLoose-p_S3dtD8.js";import"./tslib.es6-CY32MZYl.js";import"./ModalAccessibleLabel-DkJ4xCwy.js";import"./IconButton-DH93ECWt.js";import"./GenericButton-CnAyP-Wm.js";import"./utils-e-dMXvly.js";import"./focusSafely-ByiDPXQJ.js";import"./SSRProvider-C8o06Znb.js";import"./useFocusable-CuIK6Qs-.js";import"./Link-DkKiEG74.js";import"./usePress-nudZ2Xgz.js";import"./Badge-D9GUNioS.js";import"./LoadingSpinner-DHfeGxpm.js";import"./VisuallyHidden-CDYjeGzr.js";import"./ModalFooter-Bn8JBJw7.js";import"./useMediaQueries-C_upvC1L.js";import"./Button-DDkdQqLR.js";import"./InlineNotification-CD7nmnbO.js";import"./GenericNotification-DqRrnmyu.js";import"./SecurityTipIcon-CgXON2WE.js";const vt={title:"Components/RichTextEditor/Tests",component:y},r={render:()=>{const[i,e]=u.useState([]),t=a=>e(a.toJSON().doc.content);return w.createElement(y,{labelText:"Label",defaultValue:i,onChange:t,rows:3,controls:[{name:"bold",group:"inline"},{name:"italic",group:"inline"},{name:"underline",group:"inline"},{name:"orderedList",group:"list"},{name:"bulletList",group:"list"},{name:"link",group:"link"}]})},play:async({canvasElement:i,step:e})=>{const{getByRole:t}=p(i),a=t("textbox");await e("Focus on editor",async()=>{await o.click(a),n(a).toHaveFocus()})}},c={play:async i=>{var a;await((a=r.play)==null?void 0:a.call(r,i));const{canvasElement:e,step:t}=i;await t("Expect no list items",async()=>{n(e.querySelector("ul")).not.toBeInTheDocument()}),await t("Create unordered list from `-` and Space",async()=>{await o.keyboard("- "),n(e.querySelectorAll("ul li")).toHaveLength(1)})}},d={...r,name:"Create unordered list via keyboard shortcut",play:async i=>{var a;await((a=c.play)==null?void 0:a.call(c,i));const{canvasElement:e,step:t}=i;await t("Add new list item to list on Enter",async()=>{await o.keyboard("By the pricking of my thumbs{Enter}"),n(e.querySelectorAll("ul li")).toHaveLength(2)})}},xt={...r,name:"Create ordered list via keyboard shortcut",play:async i=>{var a;await((a=r.play)==null?void 0:a.call(r,i));const{canvasElement:e,step:t}=i;await t("Expect no list items",async()=>{n(e.querySelector("ol")).not.toBeInTheDocument()}),await t("Create ordered list from `1.` and Space",async()=>{await o.keyboard("1. "),n(e.querySelectorAll("ol li")).toHaveLength(1)}),await t("Add new list item to list on Enter",async()=>{await o.keyboard("By the pricking of my thumbs{Enter}"),n(e.querySelectorAll("ol li")).toHaveLength(2)})}},Lt={...r,name:"Decrease indent of an existing list item",play:async i=>{var s;await((s=d.play)==null?void 0:s.call(d,i));const{canvasElement:e,step:t}=i,{getByRole:a}=p(e);await t("Decrease indent on list item",async()=>{await o.click(a("button",{name:"Decrease indent"})),n(e.querySelectorAll("ul li")).toHaveLength(1)})}},St={...r,name:"Increase indent of an existing list item",play:async i=>{var l;await((l=c.play)==null?void 0:l.call(c,i));const{canvasElement:e,step:t}=i,{getByRole:a}=p(e),s=a("button",{name:"Increase indent"});await t("Expect increase indent button to be disabled as we are on the first list item",async()=>{n(s).toHaveAttribute("aria-disabled","true")}),await t("Add second list item; expect increase indent button to be enabled",async()=>{await o.keyboard("By the pricking of my thumbs{Enter}"),n(e.querySelectorAll("ul li")).toHaveLength(2),n(s).toHaveAttribute("aria-disabled","false")}),await t("Increase indent of second list item",async()=>{await o.click(s),n(e.querySelectorAll("ul li ul li")).toHaveLength(1)})}},At={...r,name:"Create a link",play:async i=>{const{canvasElement:e,step:t}=i,{getByRole:a,getByText:s}=p(e),l=a("textbox");await t("Focus on editor",async()=>{await o.click(l),n(l).toHaveFocus()}),await t("Input text and select the first word",async()=>{await o.keyboard("Link me"),await o.pointer([{target:s("Link me"),offset:0,keys:"[MouseLeft>]"},{offset:4}])}),await t("click the link button",async()=>{await o.click(a("button",{name:"Link"}))}),await new Promise(m=>setTimeout(m,500)),await t("Enter text",async()=>{await o.keyboard("https://www.google.com")}),await new Promise(m=>setTimeout(m,500)),await t("Tab and save",async()=>{await o.keyboard("{Tab}{Enter}")}),await t("Link exists in the RTE",async()=>{const m=a("link",{name:"Link"});n(m).toBeInTheDocument()})}},Rt=["KeyboardShortcutUnorderedList","KeyboardShortcutOrderedList","DecreaseIndent","IncreaseIndent","CreateALink"];export{At as CreateALink,Lt as DecreaseIndent,St as IncreaseIndent,xt as KeyboardShortcutOrderedList,d as KeyboardShortcutUnorderedList,Rt as __namedExportsOrder,vt as default};
