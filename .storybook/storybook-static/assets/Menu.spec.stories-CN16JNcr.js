import{R as e,r as I}from"./index-CTjT7uj6.js";import{w as b,u as l,a as m,e as o,f}from"./index-BySiBzEG.js";import{i as k}from"./isChromatic-VqprqId_.js";import{M as i,$ as u,a as E,c as s,d as w,b as t}from"./MenuTrigger-oL7_XjDj.js";import{B,A as h,a as A}from"./BookmarkOffIcon-BX3ccxEA.js";import{C as R}from"./CautionIcon-D4m_GXrx.js";import{E as v}from"./EditIcon-r0BJhC_f.js";import{E as D}from"./ExternalLinkIcon-D-unubvU.js";import{M as p}from"./MeatballsIcon-w9tBPyZh.js";import{T as y}from"./TrashIcon-4srkHYK2.js";import{B as d}from"./Button-AbBbn7Lr.js";import"./index-DZLKizrv.js";import"./mergeClassNames-DEvgSslo.js";import"./index-CCQ3W5xA.js";import"./index-9r8iugjR.js";import"./SSRProvider-C8o06Znb.js";import"./focusSafely-ByiDPXQJ.js";import"./utils-e-dMXvly.js";import"./useFocusable-CuIK6Qs-.js";import"./OverlayArrow-5tjFEuMh.js";import"./useOverlayTriggerState-B1dSu2Ro.js";import"./useFocusWithin-C7oArVkD.js";import"./useControlledState-CEg4Rl-x.js";import"./context-AGV5_Mtb.js";import"./usePress-nudZ2Xgz.js";import"./SelectionManager-yuMfDyd5.js";import"./useCollator-DHdgfgeP.js";import"./getScrollParent-DhLua4dp.js";import"./useHover-Bq751pFs.js";import"./useMenuTriggerState-D_-PdoOj.js";import"./useButton-CDp2hby9.js";import"./SVG-7WFwBCn9.js";const oe={title:"Actions/Menu/v3/Tests",component:i,args:{defaultOpen:k(),children:e.createElement(e.Fragment,null)}},me={parameters:{chromatic:{disable:!1}},args:{defaultOpen:!0},decorators:[r=>e.createElement("div",{style:{height:"500px"}},e.createElement(r,null))],render:({defaultOpen:r,...n})=>e.createElement(i,{defaultOpen:r,...n},e.createElement(d,null,e.createElement(p,{role:"img","aria-label":"Additional actions"})),e.createElement(u,null,e.createElement(E,null,e.createElement(s,null,e.createElement(w,null,"Section One"),e.createElement(t,{icon:e.createElement(B,{role:"presentation"}),href:"https://cultureamp.com"},"Save"),e.createElement(t,{icon:e.createElement(v,{role:"presentation"})},"Edit")),e.createElement(s,null,e.createElement(t,{icon:e.createElement(h,{role:"presentation"})},"Move Up"),e.createElement(t,{icon:e.createElement(A,{role:"presentation"})},"Menu item with a longer label")),e.createElement(s,null,e.createElement(t,{icon:e.createElement(y,{role:"presentation"})},"Delete"),e.createElement(t,{icon:e.createElement(y,{role:"presentation"}),isDisabled:!0},"Delete but disabled"),e.createElement(t,null,"Other action"),e.createElement(t,null,"Other action"),e.createElement(t,null,"Other action")))))},ce={render:({defaultOpen:r,...n})=>e.createElement(i,{defaultOpen:r,...n},e.createElement(d,null,e.createElement(p,{role:"img","aria-label":"Additional actions"})),e.createElement(u,null,e.createElement(E,null,e.createElement(t,{icon:e.createElement(R,{role:"presentation"}),onAction:()=>alert("Menu item pressed")},"Trigger an alert"),e.createElement(t,{icon:e.createElement(D,{role:"presentation"}),href:"https://cultureamp.com",target:"_blank"},"Go to cultureamp.com"),e.createElement(t,null,"Item 3"),e.createElement(t,null,"Item 4"),e.createElement(t,null,"Item 5")))),play:async({canvasElement:r,step:n})=>{const a=b(r.parentElement),c=a.getByRole("button");await n("Menu opens on click",async()=>{await l.click(c),await m(()=>o(a.getByRole("menu")).toBeVisible())}),await n("Arrow keys adjust focus",async()=>{await l.keyboard("[ArrowDown]"),await m(()=>o(a.getByRole("menuitem",{name:"Go to cultureamp.com"})).toHaveFocus())}),await n("Esc closes menu",async()=>{await l.keyboard("[Escape]"),await m(()=>o(a.queryByRole("menu")).not.toBeInTheDocument())}),await n("Menu opens on enter press",async()=>{await l.keyboard("[Enter]"),await m(()=>o(a.getByRole("menuitem",{name:"Trigger an alert"})).toHaveFocus()),await l.keyboard("[Escape]")}),await n("Menu opens on arrow up/down",async()=>{await l.keyboard("[ArrowDown]"),await m(()=>o(a.getByRole("menuitem",{name:"Trigger an alert"})).toHaveFocus()),await l.keyboard("[Escape]"),await l.keyboard("[ArrowUp]"),await m(()=>o(a.getByRole("menuitem",{name:"Item 5"})).toHaveFocus())})}},g=f(),ie={render:()=>e.createElement(i,null,e.createElement(d,null,e.createElement(p,{role:"img","aria-label":"Additional actions"})),e.createElement(u,null,e.createElement(E,null,e.createElement(t,{isDisabled:!0,onAction:g},"Item 1"),e.createElement(t,null,"Item 2"),e.createElement(t,{isDisabled:!0},"Item 3"),e.createElement(t,null,"Item 4"),e.createElement(t,null,"Item 5")))),play:async({canvasElement:r,step:n})=>{const a=b(r.parentElement),c=a.getByRole("button");await n("Disabled items are unable to be focused",async()=>{await l.click(c),o(a.getByRole("menuitem",{name:"Item 2"})).toHaveFocus(),await l.keyboard("[ArrowDown]"),await l.keyboard("[ArrowDown]"),o(a.getByRole("menuitem",{name:"Item 5"})).toHaveFocus(),await l.keyboard("[Escape]")}),await n("Clicking a disabled item doesn't trigger onClick",async()=>{await l.click(c),await l.click(a.getByRole("menuitem",{name:"Item 1"})),await m(()=>o(g).not.toBeCalled())})}},se={render:()=>e.createElement(i,null,e.createElement(d,null,e.createElement(p,{role:"img","aria-label":"Additional actions"})),e.createElement(u,null,e.createElement(E,null,e.createElement(s,null,e.createElement(w,null,"Section One"),e.createElement(t,null,"Item 1"),e.createElement(t,null,"Item 2")),e.createElement(s,null,e.createElement(w,null,"Section Two"),e.createElement(t,null,"Item 3"),e.createElement(t,null,"Item 4"),e.createElement(t,null,"Item 5")))))},ue={render:()=>{const[r,n]=I.useState(!1);return e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:()=>n(!r),className:"mb-6"},"Toggle open"),e.createElement(i,{isOpen:r,onOpenChange:n},e.createElement(d,null,e.createElement(p,{role:"img","aria-label":"Additional actions"})),e.createElement(u,null,e.createElement(E,null,e.createElement(t,null,"Item 1"),e.createElement(t,{onAction:()=>n(!0)},"Item 2"),e.createElement(t,null,"Item 3"),e.createElement(t,null,"Item 4"),e.createElement(t,null,"Item 5")))))},play:async({canvasElement:r,step:n})=>{const a=b(r.parentElement),c=await a.findByRole("button",{name:"Toggle open"});await n("Menu opens on external button click",async()=>{await l.click(c),await m(()=>o(a.getByRole("menu")).toBeVisible())})}},Ee=["KitchenSink","Basic","DisabledItems","WithSections","Controlled"];export{ce as Basic,ue as Controlled,ie as DisabledItems,me as KitchenSink,se as WithSections,Ee as __namedExportsOrder,oe as default};
