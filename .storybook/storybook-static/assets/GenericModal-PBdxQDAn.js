import{r as a,R as g}from"./index-CTjT7uj6.js";import{r as Xe}from"./index-9r8iugjR.js";import{_ as yt}from"./objectWithoutPropertiesLoose-gpp6Tpz-.js";import{b as xt}from"./defineProperty-C21ZqnLH.js";import{F as Ze,a as ht}from"./Trap-DVnrG7EK.js";function _(){let e=[],t=[],n={enqueue(r){t.push(r)},requestAnimationFrame(...r){let o=requestAnimationFrame(...r);n.add(()=>cancelAnimationFrame(o))},nextFrame(...r){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...r)})},setTimeout(...r){let o=setTimeout(...r);n.add(()=>clearTimeout(o))},add(r){e.push(r)},dispose(){for(let r of e.splice(0))r()},async workQueue(){for(let r of t.splice(0))await r()}};return n}function q(){let[e]=a.useState(_);return a.useEffect(()=>()=>e.dispose(),[e]),e}var E=typeof window<"u"?a.useLayoutEffect:a.useEffect,Ce={serverHandoffComplete:!1};function de(){let[e,t]=a.useState(Ce.serverHandoffComplete);return a.useEffect(()=>{e!==!0&&t(!0)},[e]),a.useEffect(()=>{Ce.serverHandoffComplete===!1&&(Ce.serverHandoffComplete=!0)},[]),e}var gt=0;function Ge(){return++gt}function D(){let e=de(),[t,n]=a.useState(e?Ge:null);return E(()=>{t===null&&n(Ge())},[t]),t!=null?""+t:void 0}function et(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e},[e]),t}function te(e,t){let[n,r]=a.useState(e),o=et(e);return E(()=>r(o.current),[o,r,...t]),n}function M(...e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e},[e]),a.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[t])}function k(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,k),r}function R({props:e,slot:t,defaultTag:n,features:r,visible:o=!0,name:l}){if(o)return ue(e,t,n,l);let i=r??0;if(i&2){let{static:u=!1,...s}=e;if(u)return ue(s,t,n,l)}if(i&1){let{unmount:u=!0,...s}=e;return k(u?0:1,{0(){return null},1(){return ue({...s,hidden:!0,style:{display:"none"}},t,n,l)}})}return ue(e,t,n,l)}function ue(e,t={},n,r){let{as:o=n,children:l,refName:i="ref",...u}=Ie(e,["unmount","static"]),s=e.ref!==void 0?{[i]:e.ref}:{},d=typeof l=="function"?l(t):l;if(u.className&&typeof u.className=="function"&&(u.className=u.className(t)),o===a.Fragment&&Object.keys(u).length>0){if(!a.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));return a.cloneElement(d,Object.assign({},Et(Ct(Ie(u,["ref"])),d.props,["onClick"]),s))}return a.createElement(o,Object.assign({},Ie(u,["ref"]),o!==a.Fragment&&s),d)}function Et(e,t,n){let r=Object.assign({},e);for(let o of n)e[o]!==void 0&&t[o]!==void 0&&Object.assign(r,{[o](l){l.defaultPrevented||e[o](l),l.defaultPrevented||t[o](l)}});return r}function A(e){var t;return Object.assign(a.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ct(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ie(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function It(e){throw new Error("Unexpected object: "+e)}function ke(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1,l=(()=>{switch(e.focus){case 0:return n.findIndex(i=>!t.resolveDisabled(i));case 1:{let i=n.slice().reverse().findIndex((u,s,d)=>o!==-1&&d.length-s-1>=o?!1:!t.resolveDisabled(u));return i===-1?i:n.length-1-i}case 2:return n.findIndex((i,u)=>u<=o?!1:!t.resolveDisabled(i));case 3:{let i=n.slice().reverse().findIndex(u=>!t.resolveDisabled(u));return i===-1?i:n.length-1-i}case 4:return n.findIndex(i=>t.resolveId(i)===e.id);case 5:return null;default:It(e)}})();return l===-1?r:l}function K(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Rt(n)?!1:r}function Rt(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function $(e,t,n){let r=a.useRef(t);r.current=t,a.useEffect(()=>{function o(l){r.current.call(window,l)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}var Pe=a.createContext(null);Pe.displayName="OpenClosedContext";function Q(){return a.useContext(Pe)}function Y({value:e,children:t}){return g.createElement(Pe.Provider,{value:e},t)}function qe(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function ne(e,t){let[n,r]=a.useState(()=>qe(e));return E(()=>{r(qe(e))},[e.type,e.as]),E(()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}function tt({container:e,accept:t,walk:n,enabled:r=!0}){let o=a.useRef(t),l=a.useRef(n);a.useEffect(()=>{o.current=t,l.current=n},[t,n]),E(()=>{if(!e||!r)return;let i=o.current,u=l.current,s=Object.assign(f=>i(f),{acceptNode:i}),d=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;d.nextNode();)u(d.currentNode)},[e,r,o,l])}var wt={1(e){return e.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){return e.disabled||e.comboboxState===0?e:{...e,comboboxState:0}},2(e,t){return e.disabled===t.disabled?e:{...e,disabled:t.disabled}},3(e,t){if(e.disabled||e.optionsRef.current&&!e.optionsPropsRef.current.static&&e.comboboxState===1)return e;let n=ke(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled});return e.activeOptionIndex===n?e:{...e,activeOptionIndex:n}},4:(e,t)=>{var n;let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=Array.from((n=e.optionsRef.current)==null?void 0:n.querySelectorAll('[id^="headlessui-combobox-option-"]')).reduce((i,u,s)=>Object.assign(i,{[u.id]:s}),{}),l=[...e.options,{id:t.id,dataRef:t.dataRef}].sort((i,u)=>o[i.id]-o[u.id]);return{...e,options:l,activeOptionIndex:r===null?null:l.indexOf(r)}},5:(e,t)=>{let n=e.options.slice(),r=e.activeOptionIndex!==null?n[e.activeOptionIndex]:null,o=n.findIndex(l=>l.id===t.id);return o!==-1&&n.splice(o,1),{...e,options:n,activeOptionIndex:o===e.activeOptionIndex||r===null?null:n.indexOf(r)}}},Te=a.createContext(null);Te.displayName="ComboboxContext";function J(e){let t=a.useContext(Te);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,J),n}return t}var De=a.createContext(null);De.displayName="ComboboxActions";function pe(){let e=a.useContext(De);if(e===null){let t=new Error("ComboboxActions is missing a parent <Combobox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(t,pe),t}return e}function St(e,t){return k(t.type,wt,e,t)}var kt=a.Fragment,Pt=A(function(e,t){let{value:n,onChange:r,disabled:o=!1,...l}=e,i=a.useRef({value:n,onChange:r}),u=a.useRef({static:!1,hold:!1}),s=a.useRef({displayValue:void 0}),d=a.useReducer(St,{comboboxState:1,comboboxPropsRef:i,optionsPropsRef:u,inputPropsRef:s,labelRef:a.createRef(),inputRef:a.createRef(),buttonRef:a.createRef(),optionsRef:a.createRef(),disabled:o,options:[],activeOptionIndex:null}),[{comboboxState:f,options:m,activeOptionIndex:b,optionsRef:y,inputRef:p,buttonRef:c},v]=d;E(()=>{i.current.value=n},[n,i]),E(()=>{i.current.onChange=r},[r,i]),E(()=>v({type:2,disabled:o}),[o]),$("mousedown",P=>{var F,S,N;let H=P.target;f===0&&((F=c.current)!=null&&F.contains(H)||(S=p.current)!=null&&S.contains(H)||(N=y.current)!=null&&N.contains(H)||v({type:1}))});let x=b===null?null:m[b].dataRef.current.value,I=a.useMemo(()=>({open:f===0,disabled:o,activeIndex:b,activeOption:x}),[f,o,m,b]),T=a.useCallback(()=>{if(!p.current||n===void 0)return;let P=s.current.displayValue;typeof P=="function"?p.current.value=P(n):typeof n=="string"&&(p.current.value=n)},[n,p,s]),C=a.useCallback(P=>{let F=m.find(N=>N.id===P);if(!F)return;let{dataRef:S}=F;i.current.onChange(S.current.value),T()},[m,i,p]),h=a.useCallback(()=>{if(b!==null){let{dataRef:P}=m[b];i.current.onChange(P.current.value),T()}},[b,m,i,p]),w=a.useMemo(()=>({selectOption:C,selectActiveOption:h}),[C,h]);return E(()=>{f===1&&T()},[T,f]),E(T,[T]),g.createElement(De.Provider,{value:w},g.createElement(Te.Provider,{value:d},g.createElement(Y,{value:k(f,{0:0,1:1})},R({props:t===null?l:{...l,ref:t},slot:I,defaultTag:kt,name:"Combobox"}))))}),Tt="input",Dt=A(function(e,t){var n,r;let{value:o,onChange:l,displayValue:i,...u}=e,[s,d]=J("Combobox.Input"),f=pe(),m=M(s.inputRef,t),b=s.inputPropsRef,y=`headlessui-combobox-input-${D()}`,p=q(),c=et(l);E(()=>{b.current.displayValue=i},[i,b]);let v=a.useCallback(h=>{switch(h.key){case"Enter":h.preventDefault(),h.stopPropagation(),f.selectActiveOption(),d({type:1});break;case"ArrowDown":return h.preventDefault(),h.stopPropagation(),k(s.comboboxState,{0:()=>d({type:3,focus:2}),1:()=>{d({type:0}),p.nextFrame(()=>{s.comboboxPropsRef.current.value||d({type:3,focus:0})})}});case"ArrowUp":return h.preventDefault(),h.stopPropagation(),k(s.comboboxState,{0:()=>d({type:3,focus:1}),1:()=>{d({type:0}),p.nextFrame(()=>{s.comboboxPropsRef.current.value||d({type:3,focus:3})})}});case"Home":case"PageUp":return h.preventDefault(),h.stopPropagation(),d({type:3,focus:0});case"End":case"PageDown":return h.preventDefault(),h.stopPropagation(),d({type:3,focus:3});case"Escape":return h.preventDefault(),s.optionsRef.current&&!s.optionsPropsRef.current.static&&h.stopPropagation(),d({type:1});case"Tab":f.selectActiveOption(),d({type:1});break}},[p,d,s,f]),x=a.useCallback(h=>{var w;d({type:0}),(w=c.current)==null||w.call(c,h)},[d,c]),I=te(()=>{if(s.labelRef.current)return[s.labelRef.current.id].join(" ")},[s.labelRef.current]),T=a.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]),C={ref:m,id:y,role:"combobox",type:"text","aria-controls":(n=s.optionsRef.current)==null?void 0:n.id,"aria-expanded":s.disabled?void 0:s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null||(r=s.options[s.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":I,disabled:s.disabled,onKeyDown:v,onChange:x};return R({props:{...u,...C},slot:T,defaultTag:Tt,name:"Combobox.Input"})}),Ot="button",Lt=A(function(e,t){var n;let[r,o]=J("Combobox.Button"),l=pe(),i=M(r.buttonRef,t),u=`headlessui-combobox-button-${D()}`,s=q(),d=a.useCallback(c=>{switch(c.key){case"ArrowDown":return c.preventDefault(),c.stopPropagation(),r.comboboxState===1&&(o({type:0}),s.nextFrame(()=>{r.comboboxPropsRef.current.value||o({type:3,focus:0})})),s.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})});case"ArrowUp":return c.preventDefault(),c.stopPropagation(),r.comboboxState===1&&(o({type:0}),s.nextFrame(()=>{r.comboboxPropsRef.current.value||o({type:3,focus:3})})),s.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})});case"Escape":return c.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&c.stopPropagation(),o({type:1}),s.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})})}},[s,o,r,l]),f=a.useCallback(c=>{if(K(c.currentTarget))return c.preventDefault();r.comboboxState===0?o({type:1}):(c.preventDefault(),o({type:0})),s.nextFrame(()=>{var v;return(v=r.inputRef.current)==null?void 0:v.focus({preventScroll:!0})})},[o,s,r]),m=te(()=>{if(r.labelRef.current)return[r.labelRef.current.id,u].join(" ")},[r.labelRef.current,u]),b=a.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled}),[r]),y=e,p={ref:i,id:u,type:ne(e,r.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.comboboxState===0,"aria-labelledby":m,disabled:r.disabled,onClick:f,onKeyDown:d};return R({props:{...y,...p},slot:b,defaultTag:Ot,name:"Combobox.Button"})}),Ft="label";function Mt(e){let[t]=J("Combobox.Label"),n=`headlessui-combobox-label-${D()}`,r=a.useCallback(()=>{var i;return(i=t.inputRef.current)==null?void 0:i.focus({preventScroll:!0})},[t.inputRef]),o=a.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled}),[t]),l={ref:t.labelRef,id:n,onClick:r};return R({props:{...e,...l},slot:o,defaultTag:Ft,name:"Combobox.Label"})}var At="ul",Nt=3,_t=A(function(e,t){var n;let{hold:r=!1,...o}=e,[l]=J("Combobox.Options"),{optionsPropsRef:i}=l,u=M(l.optionsRef,t),s=`headlessui-combobox-options-${D()}`,d=Q(),f=d!==null?d===0:l.comboboxState===0;E(()=>{var p;i.current.static=(p=e.static)!=null?p:!1},[i,e.static]),E(()=>{i.current.hold=r},[r,i]),tt({container:l.optionsRef.current,enabled:l.comboboxState===0,accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let m=te(()=>{var p,c,v;return(v=(p=l.labelRef.current)==null?void 0:p.id)!=null?v:(c=l.buttonRef.current)==null?void 0:c.id},[l.labelRef.current,l.buttonRef.current]),b=a.useMemo(()=>({open:l.comboboxState===0}),[l]),y={"aria-activedescendant":l.activeOptionIndex===null||(n=l.options[l.activeOptionIndex])==null?void 0:n.id,"aria-labelledby":m,role:"listbox",id:s,ref:u};return R({props:{...o,...y},slot:b,defaultTag:At,features:Nt,visible:f,name:"Combobox.Options"})}),$t="li";function Bt(e){let{disabled:t=!1,value:n,...r}=e,[o,l]=J("Combobox.Option"),i=pe(),u=`headlessui-combobox-option-${D()}`,s=o.activeOptionIndex!==null?o.options[o.activeOptionIndex].id===u:!1,d=o.comboboxPropsRef.current.value===n,f=a.useRef({disabled:t,value:n});E(()=>{f.current.disabled=t},[f,t]),E(()=>{f.current.value=n},[f,n]),E(()=>{var x,I;f.current.textValue=(I=(x=document.getElementById(u))==null?void 0:x.textContent)==null?void 0:I.toLowerCase()},[f,u]);let m=a.useCallback(()=>i.selectOption(u),[i,u]);E(()=>(l({type:4,id:u,dataRef:f}),()=>l({type:5,id:u})),[f,u]),E(()=>{o.comboboxState===0&&(!d||l({type:3,focus:4,id:u}))},[o.comboboxState,d,u]),E(()=>{if(o.comboboxState!==0||!s)return;let x=_();return x.requestAnimationFrame(()=>{var I,T;(T=(I=document.getElementById(u))==null?void 0:I.scrollIntoView)==null||T.call(I,{block:"nearest"})}),x.dispose},[u,s,o.comboboxState,o.activeOptionIndex]);let b=a.useCallback(x=>{if(t)return x.preventDefault();m(),l({type:1}),_().nextFrame(()=>{var I;return(I=o.inputRef.current)==null?void 0:I.focus({preventScroll:!0})})},[l,o.inputRef,t,m]),y=a.useCallback(()=>{if(t)return l({type:3,focus:5});l({type:3,focus:4,id:u})},[t,u,l]),p=a.useCallback(()=>{t||s||l({type:3,focus:4,id:u})},[t,s,u,l]),c=a.useCallback(()=>{t||!s||o.optionsPropsRef.current.hold||l({type:3,focus:5})},[t,s,l,o.comboboxState,o.comboboxPropsRef]),v=a.useMemo(()=>({active:s,selected:d,disabled:t}),[s,d,t]);return R({props:{...r,id:u,role:"option",tabIndex:t===!0?void 0:-1,"aria-disabled":t===!0?!0:void 0,"aria-selected":d===!0?!0:void 0,disabled:void 0,onClick:b,onFocus:y,onPointerMove:p,onMouseMove:p,onPointerLeave:c,onMouseLeave:c},slot:v,defaultTag:$t,name:"Combobox.Option"})}Object.assign(Pt,{Input:Dt,Button:Lt,Label:Mt,Options:_t,Option:Bt});var we=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");function se(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(we))}function Oe(e,t=0){return e===document.body?!1:k(t,{0(){return e.matches(we)},1(){let n=e;for(;n!==null;){if(n.matches(we))return!0;n=n.parentElement}return!1}})}function Z(e){e==null||e.focus({preventScroll:!0})}function U(e,t){let n=Array.isArray(e)?e.slice().sort((f,m)=>{let b=f.compareDocumentPosition(m);return b&Node.DOCUMENT_POSITION_FOLLOWING?-1:b&Node.DOCUMENT_POSITION_PRECEDING?1:0}):se(e),r=document.activeElement,o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,n.indexOf(r))-1;if(t&4)return Math.max(0,n.indexOf(r))+1;if(t&8)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=t&32?{preventScroll:!0}:{},u=0,s=n.length,d;do{if(u>=s||u+s<=0)return 0;let f=l+u;if(t&16)f=(f+s)%s;else{if(f<0)return 3;if(f>=s)return 1}d=n[f],d==null||d.focus(i),u+=o}while(d!==document.activeElement);return d.hasAttribute("tabindex")||d.setAttribute("tabindex","0"),2}function nt(){let e=a.useRef(!1);return a.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ht(e,t=30,{initialFocus:n,containers:r}={}){let o=a.useRef(typeof window<"u"?document.activeElement:null),l=a.useRef(null),i=nt(),u=!!(t&16),s=!!(t&2);a.useEffect(()=>{!u||(o.current=document.activeElement)},[u]),a.useEffect(()=>{if(u)return()=>{Z(o.current),o.current=null}},[u]),a.useEffect(()=>{if(!s||!e.current)return;let d=document.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===d){l.current=d;return}}else if(e.current.contains(d)){l.current=d;return}n!=null&&n.current?Z(n.current):U(e.current,1)===0&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.current=document.activeElement},[e,n,s]),$("keydown",d=>{!(t&4)||!e.current||d.key==="Tab"&&(d.preventDefault(),U(e.current,(d.shiftKey?2:4)|16)===2&&(l.current=document.activeElement))}),$("focus",d=>{if(!(t&8))return;let f=new Set(r==null?void 0:r.current);if(f.add(e),!f.size)return;let m=l.current;if(!m||!i.current)return;let b=d.target;b&&b instanceof HTMLElement?jt(f,b)?(l.current=b,Z(b)):(d.preventDefault(),d.stopPropagation(),Z(m)):Z(l.current)},!0)}function jt(e,t){var n;for(let r of e)if((n=r.current)!=null&&n.contains(t))return!0;return!1}var z=new Set,W=new Map;function Ke(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Ve(e){let t=W.get(e);!t||(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function Ut(e,t=!0){E(()=>{if(!t||!e.current)return;let n=e.current;z.add(n);for(let r of W.keys())r.contains(n)&&(Ve(r),W.delete(r));return document.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement){for(let o of z)if(r.contains(o))return;z.size===1&&(W.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),Ke(r))}}),()=>{if(z.delete(n),z.size>0)document.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement&&!W.has(r)){for(let o of z)if(r.contains(o))return;W.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),Ke(r)}});else for(let r of W.keys())Ve(r),W.delete(r)}},[t])}var rt=a.createContext(!1);function Qt(){return a.useContext(rt)}function ze(e){return g.createElement(rt.Provider,{value:e.force},e.children)}function Wt(){let e=Qt(),t=a.useContext(ot),[n,r]=a.useState(()=>{if(!e&&t!==null||typeof window>"u")return null;let o=document.getElementById("headlessui-portal-root");if(o)return o;let l=document.createElement("div");return l.setAttribute("id","headlessui-portal-root"),document.body.appendChild(l)});return a.useEffect(()=>{n!==null&&(document.body.contains(n)||document.body.appendChild(n))},[n]),a.useEffect(()=>{e||t!==null&&r(t.current)},[t,r,e]),n}var Gt=a.Fragment;function Se(e){let t=e,n=Wt(),[r]=a.useState(()=>typeof window>"u"?null:document.createElement("div")),o=de();return E(()=>{if(n&&r)return n.appendChild(r),()=>{var l;!n||!r||(n.removeChild(r),n.childNodes.length<=0&&((l=n.parentElement)==null||l.removeChild(n)))}},[n,r]),o?!n||!r?null:Xe.createPortal(R({props:t,defaultTag:Gt,name:"Portal"}),r):null}var qt=a.Fragment,ot=a.createContext(null);function Kt(e){let{target:t,...n}=e;return g.createElement(ot.Provider,{value:t},R({props:n,defaultTag:qt,name:"Popover.Group"}))}Se.Group=Kt;var at=a.createContext(null);function lt(){let e=a.useContext(at);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,lt),t}return e}function Vt(){let[e,t]=a.useState([]);return[e.length>0?e.join(" "):void 0,a.useMemo(()=>function(n){let r=a.useCallback(l=>(t(i=>[...i,l]),()=>t(i=>{let u=i.slice(),s=u.indexOf(l);return s!==-1&&u.splice(s,1),u})),[]),o=a.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return g.createElement(at.Provider,{value:o},n.children)},[t])]}var zt="p";function Yt(e){let t=lt(),n=`headlessui-description-${D()}`;E(()=>t.register(n),[n,t.register]);let r=e,o={...t.props,id:n};return R({props:{...r,...o},slot:t.slot||{},defaultTag:zt,name:t.name||"Description"})}var Le=a.createContext(()=>{});Le.displayName="StackContext";function Jt(){return a.useContext(Le)}function Xt({children:e,onUpdate:t,type:n,element:r}){let o=Jt(),l=a.useCallback((...i)=>{t==null||t(...i),o(...i)},[o,t]);return E(()=>(l(0,n,r),()=>l(1,n,r)),[l,n,r]),g.createElement(Le.Provider,{value:l},e)}var Zt={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ce=a.createContext(null);ce.displayName="DialogContext";function Fe(e){let t=a.useContext(ce);if(t===null){let n=new Error(`<${e} /> is missing a parent <${sn.displayName} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fe),n}return t}function en(e,t){return k(t.type,Zt,e,t)}var tn="div",nn=3,rn=A(function(e,t){let{open:n,onClose:r,initialFocus:o,...l}=e,[i,u]=a.useState(0),s=Q();n===void 0&&s!==null&&(n=k(s,{0:!0,1:!1}));let d=a.useRef(new Set),f=a.useRef(null),m=M(f,t),b=e.hasOwnProperty("open")||s!==null,y=e.hasOwnProperty("onClose");if(!b&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof n!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if(typeof r!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r}`);let p=n?0:1,c=s!==null?s===0:p===0,[v,x]=a.useReducer(en,{titleId:null,descriptionId:null}),I=a.useCallback(()=>r(!1),[r]),T=a.useCallback(O=>x({type:0,id:O}),[x]),C=de()&&p===0,h=i>1,w=a.useContext(ce)!==null;Ht(f,C?k(h?"parent":"leaf",{parent:16,leaf:30}):1,{initialFocus:o,containers:d}),Ut(f,h?C:!1),$("mousedown",O=>{var B;let L=O.target;p===0&&(h||(B=f.current)!=null&&B.contains(L)||I())}),$("keydown",O=>{O.key==="Escape"&&p===0&&(h||(O.preventDefault(),O.stopPropagation(),I()))}),a.useEffect(()=>{if(p!==0||w)return;let O=document.documentElement.style.overflow,B=document.documentElement.style.paddingRight,L=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${L}px`,()=>{document.documentElement.style.overflow=O,document.documentElement.style.paddingRight=B}},[p,w]),a.useEffect(()=>{if(p!==0||!f.current)return;let O=new IntersectionObserver(B=>{for(let L of B)L.boundingClientRect.x===0&&L.boundingClientRect.y===0&&L.boundingClientRect.width===0&&L.boundingClientRect.height===0&&I()});return O.observe(f.current),()=>O.disconnect()},[p,f,I]);let[P,F]=Vt(),S=`headlessui-dialog-${D()}`,N=a.useMemo(()=>[{dialogState:p,close:I,setTitleId:T},v],[p,v,I,T]),H=a.useMemo(()=>({open:p===0}),[p]),ae={ref:m,id:S,role:"dialog","aria-modal":p===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":P,onClick(O){O.stopPropagation()}},le=l;return g.createElement(Xt,{type:"Dialog",element:f,onUpdate:a.useCallback((O,B,L)=>{B==="Dialog"&&k(O,{0(){d.current.add(L),u(V=>V+1)},1(){d.current.add(L),u(V=>V-1)}})},[])},g.createElement(ze,{force:!0},g.createElement(Se,null,g.createElement(ce.Provider,{value:N},g.createElement(Se.Group,{target:f},g.createElement(ze,{force:!1},g.createElement(F,{slot:H,name:"Dialog.Description"},R({props:{...le,...ae},slot:H,defaultTag:tn,features:nn,visible:c,name:"Dialog"}))))))))}),on="div",an=A(function(e,t){let[{dialogState:n,close:r}]=Fe("Dialog.Overlay"),o=M(t),l=`headlessui-dialog-overlay-${D()}`,i=a.useCallback(s=>{if(s.target===s.currentTarget){if(K(s.currentTarget))return s.preventDefault();s.preventDefault(),s.stopPropagation(),r()}},[r]),u=a.useMemo(()=>({open:n===0}),[n]);return R({props:{...e,ref:o,id:l,"aria-hidden":!0,onClick:i},slot:u,defaultTag:on,name:"Dialog.Overlay"})}),ln="h2";function un(e){let[{dialogState:t,setTitleId:n}]=Fe("Dialog.Title"),r=`headlessui-dialog-title-${D()}`;a.useEffect(()=>(n(r),()=>n(null)),[r,n]);let o=a.useMemo(()=>({open:t===0}),[t]);return R({props:{...e,id:r},slot:o,defaultTag:ln,name:"Dialog.Title"})}var sn=Object.assign(rn,{Overlay:an,Title:un,Description:Yt}),cn={0:e=>({...e,disclosureState:k(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Me=a.createContext(null);Me.displayName="DisclosureContext";function Ae(e){let t=a.useContext(Me);if(t===null){let n=new Error(`<${e} /> is missing a parent <${fe.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ae),n}return t}var Ne=a.createContext(null);Ne.displayName="DisclosureAPIContext";function ut(e){let t=a.useContext(Ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <${fe.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ut),n}return t}var _e=a.createContext(null);_e.displayName="DisclosurePanelContext";function dn(){return a.useContext(_e)}function pn(e,t){return k(t.type,cn,e,t)}var fn=a.Fragment;function fe(e){let{defaultOpen:t=!1,...n}=e,r=`headlessui-disclosure-button-${D()}`,o=`headlessui-disclosure-panel-${D()}`,l=a.useReducer(pn,{disclosureState:t?0:1,linkedPanel:!1,buttonId:r,panelId:o}),[{disclosureState:i},u]=l;a.useEffect(()=>u({type:2,buttonId:r}),[r,u]),a.useEffect(()=>u({type:3,panelId:o}),[o,u]);let s=a.useCallback(m=>{u({type:1});let b=m?m instanceof HTMLElement?m:m.current instanceof HTMLElement?m.current:document.getElementById(r):document.getElementById(r);b==null||b.focus()},[u,r]),d=a.useMemo(()=>({close:s}),[s]),f=a.useMemo(()=>({open:i===0,close:s}),[i,s]);return g.createElement(Me.Provider,{value:l},g.createElement(Ne.Provider,{value:d},g.createElement(Y,{value:k(i,{0:0,1:1})},R({props:n,slot:f,defaultTag:fn,name:"Disclosure"}))))}var vn="button",bn=A(function(e,t){let[n,r]=Ae("Disclosure.Button"),o=a.useRef(null),l=M(o,t),i=dn(),u=i===null?!1:i===n.panelId,s=a.useCallback(c=>{var v;if(u){if(n.disclosureState===1)return;switch(c.key){case" ":case"Enter":c.preventDefault(),c.stopPropagation(),r({type:0}),(v=document.getElementById(n.buttonId))==null||v.focus();break}}else switch(c.key){case" ":case"Enter":c.preventDefault(),c.stopPropagation(),r({type:0});break}},[r,u,n.disclosureState,n.buttonId]),d=a.useCallback(c=>{switch(c.key){case" ":c.preventDefault();break}},[]),f=a.useCallback(c=>{var v;K(c.currentTarget)||e.disabled||(u?(r({type:0}),(v=document.getElementById(n.buttonId))==null||v.focus()):r({type:0}))},[r,e.disabled,n.buttonId,u]),m=a.useMemo(()=>({open:n.disclosureState===0}),[n]),b=ne(e,o),y=e,p=u?{ref:l,type:b,onKeyDown:s,onClick:f}:{ref:l,id:n.buttonId,type:b,"aria-expanded":e.disabled?void 0:n.disclosureState===0,"aria-controls":n.linkedPanel?n.panelId:void 0,onKeyDown:s,onKeyUp:d,onClick:f};return R({props:{...y,...p},slot:m,defaultTag:vn,name:"Disclosure.Button"})}),mn="div",yn=3,xn=A(function(e,t){let[n,r]=Ae("Disclosure.Panel"),{close:o}=ut("Disclosure.Panel"),l=M(t,()=>{n.linkedPanel||r({type:4})}),i=Q(),u=i!==null?i===0:n.disclosureState===0;a.useEffect(()=>()=>r({type:5}),[r]),a.useEffect(()=>{var m;n.disclosureState===1&&((m=e.unmount)==null||m)&&r({type:5})},[n.disclosureState,e.unmount,r]);let s=a.useMemo(()=>({open:n.disclosureState===0,close:o}),[n,o]),d={ref:l,id:n.panelId},f=e;return g.createElement(_e.Provider,{value:n.panelId},R({props:{...f,...d},slot:s,defaultTag:mn,features:yn,visible:u,name:"Disclosure.Panel"}))});fe.Button=bn;fe.Panel=xn;var hn={1(e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){return e.disabled||e.listboxState===0?e:{...e,listboxState:0}},2(e,t){return e.disabled===t.disabled?e:{...e,disabled:t.disabled}},3(e,t){return e.orientation===t.orientation?e:{...e,orientation:t.orientation}},4(e,t){if(e.disabled||e.listboxState===1)return e;let n=ke(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled});return e.searchQuery===""&&e.activeOptionIndex===n?e:{...e,searchQuery:"",activeOptionIndex:n}},5:(e,t)=>{if(e.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(i=>{var u;return!i.dataRef.current.disabled&&((u=i.dataRef.current.textValue)==null?void 0:u.startsWith(r))}),l=o?e.options.indexOf(o):-1;return l===-1||l===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:l}},6(e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},7:(e,t)=>{var n;let r=Array.from((n=e.optionsRef.current)==null?void 0:n.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce((l,i,u)=>Object.assign(l,{[i.id]:u}),{}),o=[...e.options,{id:t.id,dataRef:t.dataRef}].sort((l,i)=>r[l.id]-r[i.id]);return{...e,options:o}},8:(e,t)=>{let n=e.options.slice(),r=e.activeOptionIndex!==null?n[e.activeOptionIndex]:null,o=n.findIndex(l=>l.id===t.id);return o!==-1&&n.splice(o,1),{...e,options:n,activeOptionIndex:o===e.activeOptionIndex||r===null?null:n.indexOf(r)}}},$e=a.createContext(null);$e.displayName="ListboxContext";function re(e){let t=a.useContext($e);if(t===null){let n=new Error(`<${e} /> is missing a parent <${oe.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,re),n}return t}function gn(e,t){return k(t.type,hn,e,t)}var En=a.Fragment;function oe(e){let{value:t,onChange:n,disabled:r=!1,horizontal:o=!1,...l}=e,i=o?"horizontal":"vertical",u=a.useReducer(gn,{listboxState:1,propsRef:{current:{value:t,onChange:n}},labelRef:a.createRef(),buttonRef:a.createRef(),optionsRef:a.createRef(),disabled:r,orientation:i,options:[],searchQuery:"",activeOptionIndex:null}),[{listboxState:s,propsRef:d,optionsRef:f,buttonRef:m},b]=u;E(()=>{d.current.value=t},[t,d]),E(()=>{d.current.onChange=n},[n,d]),E(()=>b({type:2,disabled:r}),[r]),E(()=>b({type:3,orientation:i}),[i]),$("mousedown",p=>{var c,v,x;let I=p.target;s===0&&((c=m.current)!=null&&c.contains(I)||(v=f.current)!=null&&v.contains(I)||(b({type:1}),Oe(I,1)||(p.preventDefault(),(x=m.current)==null||x.focus())))});let y=a.useMemo(()=>({open:s===0,disabled:r}),[s,r]);return g.createElement($e.Provider,{value:u},g.createElement(Y,{value:k(s,{0:0,1:1})},R({props:l,slot:y,defaultTag:En,name:"Listbox"})))}var Cn="button",In=A(function(e,t){var n;let[r,o]=re("Listbox.Button"),l=M(r.buttonRef,t),i=`headlessui-listbox-button-${D()}`,u=q(),s=a.useCallback(c=>{switch(c.key){case" ":case"Enter":case"ArrowDown":c.preventDefault(),o({type:0}),u.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:0})});break;case"ArrowUp":c.preventDefault(),o({type:0}),u.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:3})});break}},[o,r,u]),d=a.useCallback(c=>{switch(c.key){case" ":c.preventDefault();break}},[]),f=a.useCallback(c=>{if(K(c.currentTarget))return c.preventDefault();r.listboxState===0?(o({type:1}),u.nextFrame(()=>{var v;return(v=r.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(c.preventDefault(),o({type:0}))},[o,u,r]),m=te(()=>{if(r.labelRef.current)return[r.labelRef.current.id,i].join(" ")},[r.labelRef.current,i]),b=a.useMemo(()=>({open:r.listboxState===0,disabled:r.disabled}),[r]),y=e,p={ref:l,id:i,type:ne(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.listboxState===0,"aria-labelledby":m,disabled:r.disabled,onKeyDown:s,onKeyUp:d,onClick:f};return R({props:{...y,...p},slot:b,defaultTag:Cn,name:"Listbox.Button"})}),Rn="label";function wn(e){let[t]=re("Listbox.Label"),n=`headlessui-listbox-label-${D()}`,r=a.useCallback(()=>{var i;return(i=t.buttonRef.current)==null?void 0:i.focus({preventScroll:!0})},[t.buttonRef]),o=a.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled}),[t]),l={ref:t.labelRef,id:n,onClick:r};return R({props:{...e,...l},slot:o,defaultTag:Rn,name:"Listbox.Label"})}var Sn="ul",kn=3,Pn=A(function(e,t){var n;let[r,o]=re("Listbox.Options"),l=M(r.optionsRef,t),i=`headlessui-listbox-options-${D()}`,u=q(),s=q(),d=Q(),f=d!==null?d===0:r.listboxState===0;E(()=>{let c=r.optionsRef.current;!c||r.listboxState===0&&c!==document.activeElement&&c.focus({preventScroll:!0})},[r.listboxState,r.optionsRef]);let m=a.useCallback(c=>{switch(s.dispose(),c.key){case" ":if(r.searchQuery!=="")return c.preventDefault(),c.stopPropagation(),o({type:5,value:c.key});case"Enter":if(c.preventDefault(),c.stopPropagation(),o({type:1}),r.activeOptionIndex!==null){let{dataRef:v}=r.options[r.activeOptionIndex];r.propsRef.current.onChange(v.current.value)}_().nextFrame(()=>{var v;return(v=r.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})});break;case k(r.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return c.preventDefault(),c.stopPropagation(),o({type:4,focus:2});case k(r.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return c.preventDefault(),c.stopPropagation(),o({type:4,focus:1});case"Home":case"PageUp":return c.preventDefault(),c.stopPropagation(),o({type:4,focus:0});case"End":case"PageDown":return c.preventDefault(),c.stopPropagation(),o({type:4,focus:3});case"Escape":return c.preventDefault(),c.stopPropagation(),o({type:1}),u.nextFrame(()=>{var v;return(v=r.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})});case"Tab":c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(o({type:5,value:c.key}),s.setTimeout(()=>o({type:6}),350));break}},[u,o,s,r]),b=te(()=>{var c,v,x;return(x=(c=r.labelRef.current)==null?void 0:c.id)!=null?x:(v=r.buttonRef.current)==null?void 0:v.id},[r.labelRef.current,r.buttonRef.current]),y=a.useMemo(()=>({open:r.listboxState===0}),[r]),p={"aria-activedescendant":r.activeOptionIndex===null||(n=r.options[r.activeOptionIndex])==null?void 0:n.id,"aria-labelledby":b,"aria-orientation":r.orientation,id:i,onKeyDown:m,role:"listbox",tabIndex:0,ref:l};return R({props:{...e,...p},slot:y,defaultTag:Sn,features:kn,visible:f,name:"Listbox.Options"})}),Tn="li";function Dn(e){let{disabled:t=!1,value:n,...r}=e,[o,l]=re("Listbox.Option"),i=`headlessui-listbox-option-${D()}`,u=o.activeOptionIndex!==null?o.options[o.activeOptionIndex].id===i:!1,s=o.propsRef.current.value===n,d=a.useRef({disabled:t,value:n});E(()=>{d.current.disabled=t},[d,t]),E(()=>{d.current.value=n},[d,n]),E(()=>{var v,x;d.current.textValue=(x=(v=document.getElementById(i))==null?void 0:v.textContent)==null?void 0:x.toLowerCase()},[d,i]);let f=a.useCallback(()=>o.propsRef.current.onChange(n),[o.propsRef,n]);E(()=>(l({type:7,id:i,dataRef:d}),()=>l({type:8,id:i})),[d,i]),E(()=>{var v,x;o.listboxState===0&&(!s||(l({type:4,focus:4,id:i}),(x=(v=document.getElementById(i))==null?void 0:v.focus)==null||x.call(v)))},[o.listboxState]),E(()=>{if(o.listboxState!==0||!u)return;let v=_();return v.requestAnimationFrame(()=>{var x,I;(I=(x=document.getElementById(i))==null?void 0:x.scrollIntoView)==null||I.call(x,{block:"nearest"})}),v.dispose},[i,u,o.listboxState,o.activeOptionIndex]);let m=a.useCallback(v=>{if(t)return v.preventDefault();f(),l({type:1}),_().nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})},[l,o.buttonRef,t,f]),b=a.useCallback(()=>{if(t)return l({type:4,focus:5});l({type:4,focus:4,id:i})},[t,i,l]),y=a.useCallback(()=>{t||u||l({type:4,focus:4,id:i})},[t,u,i,l]),p=a.useCallback(()=>{t||!u||l({type:4,focus:5})},[t,u,l]),c=a.useMemo(()=>({active:u,selected:s,disabled:t}),[u,s,t]);return R({props:{...r,id:i,role:"option",tabIndex:t===!0?void 0:-1,"aria-disabled":t===!0?!0:void 0,"aria-selected":s===!0?!0:void 0,disabled:void 0,onClick:m,onFocus:b,onPointerMove:y,onMouseMove:y,onPointerLeave:p,onMouseLeave:p},slot:c,defaultTag:Tn,name:"Listbox.Option"})}oe.Button=In;oe.Label=wn;oe.Options=Pn;oe.Option=Dn;var On={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,menuState:0}},2:(e,t)=>{let n=ke(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled});return e.searchQuery===""&&e.activeItemIndex===n?e:{...e,searchQuery:"",activeItemIndex:n}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(i=>{var u;return((u=i.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!i.dataRef.current.disabled}),l=o?e.items.indexOf(o):-1;return l===-1||l===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:l}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{var n;let r=Array.from((n=e.itemsRef.current)==null?void 0:n.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce((l,i,u)=>Object.assign(l,{[i.id]:u}),{}),o=[...e.items,{id:t.id,dataRef:t.dataRef}].sort((l,i)=>r[l.id]-r[i.id]);return{...e,items:o}},6:(e,t)=>{let n=e.items.slice(),r=e.activeItemIndex!==null?n[e.activeItemIndex]:null,o=n.findIndex(l=>l.id===t.id);return o!==-1&&n.splice(o,1),{...e,items:n,activeItemIndex:o===e.activeItemIndex||r===null?null:n.indexOf(r)}}},Be=a.createContext(null);Be.displayName="MenuContext";function ve(e){let t=a.useContext(Be);if(t===null){let n=new Error(`<${e} /> is missing a parent <${be.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ve),n}return t}function Ln(e,t){return k(t.type,On,e,t)}var Fn=a.Fragment;function be(e){let t=a.useReducer(Ln,{menuState:1,buttonRef:a.createRef(),itemsRef:a.createRef(),items:[],searchQuery:"",activeItemIndex:null}),[{menuState:n,itemsRef:r,buttonRef:o},l]=t;$("mousedown",u=>{var s,d,f;let m=u.target;n===0&&((s=o.current)!=null&&s.contains(m)||(d=r.current)!=null&&d.contains(m)||(l({type:1}),Oe(m,1)||(u.preventDefault(),(f=o.current)==null||f.focus())))});let i=a.useMemo(()=>({open:n===0}),[n]);return g.createElement(Be.Provider,{value:t},g.createElement(Y,{value:k(n,{0:0,1:1})},R({props:e,slot:i,defaultTag:Fn,name:"Menu"})))}var Mn="button",An=A(function(e,t){var n;let[r,o]=ve("Menu.Button"),l=M(r.buttonRef,t),i=`headlessui-menu-button-${D()}`,u=q(),s=a.useCallback(p=>{switch(p.key){case" ":case"Enter":case"ArrowDown":p.preventDefault(),p.stopPropagation(),o({type:0}),u.nextFrame(()=>o({type:2,focus:0}));break;case"ArrowUp":p.preventDefault(),p.stopPropagation(),o({type:0}),u.nextFrame(()=>o({type:2,focus:3}));break}},[o,u]),d=a.useCallback(p=>{switch(p.key){case" ":p.preventDefault();break}},[]),f=a.useCallback(p=>{if(K(p.currentTarget))return p.preventDefault();e.disabled||(r.menuState===0?(o({type:1}),u.nextFrame(()=>{var c;return(c=r.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})})):(p.preventDefault(),p.stopPropagation(),o({type:0})))},[o,u,r,e.disabled]),m=a.useMemo(()=>({open:r.menuState===0}),[r]),b=e,y={ref:l,id:i,type:ne(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.itemsRef.current)==null?void 0:n.id,"aria-expanded":e.disabled?void 0:r.menuState===0,onKeyDown:s,onKeyUp:d,onClick:f};return R({props:{...b,...y},slot:m,defaultTag:Mn,name:"Menu.Button"})}),Nn="div",_n=3,$n=A(function(e,t){var n,r;let[o,l]=ve("Menu.Items"),i=M(o.itemsRef,t),u=`headlessui-menu-items-${D()}`,s=q(),d=Q(),f=d!==null?d===0:o.menuState===0;a.useEffect(()=>{let c=o.itemsRef.current;!c||o.menuState===0&&c!==document.activeElement&&c.focus({preventScroll:!0})},[o.menuState,o.itemsRef]),tt({container:o.itemsRef.current,enabled:o.menuState===0,accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});let m=a.useCallback(c=>{var v;switch(s.dispose(),c.key){case" ":if(o.searchQuery!=="")return c.preventDefault(),c.stopPropagation(),l({type:3,value:c.key});case"Enter":if(c.preventDefault(),c.stopPropagation(),l({type:1}),o.activeItemIndex!==null){let{id:x}=o.items[o.activeItemIndex];(v=document.getElementById(x))==null||v.click()}_().nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});break;case"ArrowDown":return c.preventDefault(),c.stopPropagation(),l({type:2,focus:2});case"ArrowUp":return c.preventDefault(),c.stopPropagation(),l({type:2,focus:1});case"Home":case"PageUp":return c.preventDefault(),c.stopPropagation(),l({type:2,focus:0});case"End":case"PageDown":return c.preventDefault(),c.stopPropagation(),l({type:2,focus:3});case"Escape":c.preventDefault(),c.stopPropagation(),l({type:1}),_().nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});break;case"Tab":c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(l({type:3,value:c.key}),s.setTimeout(()=>l({type:4}),350));break}},[l,s,o]),b=a.useCallback(c=>{switch(c.key){case" ":c.preventDefault();break}},[]),y=a.useMemo(()=>({open:o.menuState===0}),[o]),p={"aria-activedescendant":o.activeItemIndex===null||(n=o.items[o.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=o.buttonRef.current)==null?void 0:r.id,id:u,onKeyDown:m,onKeyUp:b,role:"menu",tabIndex:0,ref:i};return R({props:{...e,...p},slot:y,defaultTag:Nn,features:_n,visible:f,name:"Menu.Items"})}),Bn=a.Fragment;function Hn(e){let{disabled:t=!1,onClick:n,...r}=e,[o,l]=ve("Menu.Item"),i=`headlessui-menu-item-${D()}`,u=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===i:!1;E(()=>{if(o.menuState!==0||!u)return;let p=_();return p.requestAnimationFrame(()=>{var c,v;(v=(c=document.getElementById(i))==null?void 0:c.scrollIntoView)==null||v.call(c,{block:"nearest"})}),p.dispose},[i,u,o.menuState,o.activeItemIndex]);let s=a.useRef({disabled:t});E(()=>{s.current.disabled=t},[s,t]),E(()=>{var p,c;s.current.textValue=(c=(p=document.getElementById(i))==null?void 0:p.textContent)==null?void 0:c.toLowerCase()},[s,i]),E(()=>(l({type:5,id:i,dataRef:s}),()=>l({type:6,id:i})),[s,i]);let d=a.useCallback(p=>{if(t)return p.preventDefault();if(l({type:1}),_().nextFrame(()=>{var c;return(c=o.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),n)return n(p)},[l,o.buttonRef,t,n]),f=a.useCallback(()=>{if(t)return l({type:2,focus:5});l({type:2,focus:4,id:i})},[t,i,l]),m=a.useCallback(()=>{t||u||l({type:2,focus:4,id:i})},[t,u,i,l]),b=a.useCallback(()=>{t||!u||l({type:2,focus:5})},[t,u,l]),y=a.useMemo(()=>({active:u,disabled:t}),[u,t]);return R({props:{...r,id:i,role:"menuitem",tabIndex:t===!0?void 0:-1,"aria-disabled":t===!0?!0:void 0,disabled:void 0,onClick:d,onFocus:f,onPointerMove:m,onMouseMove:m,onPointerLeave:b,onMouseLeave:b},slot:y,defaultTag:Bn,name:"Menu.Item"})}be.Button=An;be.Items=$n;be.Item=Hn;var jn={0:e=>({...e,popoverState:k(e.popoverState,{0:1,1:0})}),1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},He=a.createContext(null);He.displayName="PopoverContext";function me(e){let t=a.useContext(He);if(t===null){let n=new Error(`<${e} /> is missing a parent <${X.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,me),n}return t}var je=a.createContext(null);je.displayName="PopoverAPIContext";function it(e){let t=a.useContext(je);if(t===null){let n=new Error(`<${e} /> is missing a parent <${X.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,it),n}return t}var Ue=a.createContext(null);Ue.displayName="PopoverGroupContext";function st(){return a.useContext(Ue)}var Qe=a.createContext(null);Qe.displayName="PopoverPanelContext";function Un(){return a.useContext(Qe)}function Qn(e,t){return k(t.type,jn,e,t)}var Wn="div";function X(e){let t=`headlessui-popover-button-${D()}`,n=`headlessui-popover-panel-${D()}`,r=a.useReducer(Qn,{popoverState:1,button:null,buttonId:t,panel:null,panelId:n}),[{popoverState:o,button:l,panel:i},u]=r;a.useEffect(()=>u({type:3,buttonId:t}),[t,u]),a.useEffect(()=>u({type:5,panelId:n}),[n,u]);let s=a.useMemo(()=>({buttonId:t,panelId:n,close:()=>u({type:1})}),[t,n,u]),d=st(),f=d==null?void 0:d.registerPopover,m=a.useCallback(()=>{var c;return(c=d==null?void 0:d.isFocusWithinPopoverGroup())!=null?c:(l==null?void 0:l.contains(document.activeElement))||(i==null?void 0:i.contains(document.activeElement))},[d,l,i]);a.useEffect(()=>f==null?void 0:f(s),[f,s]),$("focus",()=>{o===0&&(m()||!l||!i||u({type:1}))},!0),$("mousedown",c=>{let v=c.target;o===0&&(l!=null&&l.contains(v)||i!=null&&i.contains(v)||(u({type:1}),Oe(v,1)||(c.preventDefault(),l==null||l.focus())))});let b=a.useCallback(c=>{u({type:1});let v=c?c instanceof HTMLElement?c:c.current instanceof HTMLElement?c.current:l:l;v==null||v.focus()},[u,l]),y=a.useMemo(()=>({close:b}),[b]),p=a.useMemo(()=>({open:o===0,close:b}),[o,b]);return g.createElement(He.Provider,{value:r},g.createElement(je.Provider,{value:y},g.createElement(Y,{value:k(o,{0:0,1:1})},R({props:e,slot:p,defaultTag:Wn,name:"Popover"}))))}var Gn="button",qn=A(function(e,t){let[n,r]=me("Popover.Button"),o=a.useRef(null),l=st(),i=l==null?void 0:l.closeOthers,u=Un(),s=u===null?!1:u===n.panelId,d=M(o,t,s?null:C=>r({type:2,button:C})),f=M(o,t),m=a.useRef(null),b=a.useRef(typeof window>"u"?null:document.activeElement);$("focus",()=>{b.current=m.current,m.current=document.activeElement},!0);let y=a.useCallback(C=>{var h,w;if(s){if(n.popoverState===1)return;switch(C.key){case" ":case"Enter":C.preventDefault(),C.stopPropagation(),r({type:1}),(h=n.button)==null||h.focus();break}}else switch(C.key){case" ":case"Enter":C.preventDefault(),C.stopPropagation(),n.popoverState===1&&(i==null||i(n.buttonId)),r({type:0});break;case"Escape":if(n.popoverState!==0)return i==null?void 0:i(n.buttonId);if(!o.current||!o.current.contains(document.activeElement))return;C.preventDefault(),C.stopPropagation(),r({type:1});break;case"Tab":if(n.popoverState!==0||!n.panel||!n.button)return;if(C.shiftKey){if(!b.current||(w=n.button)!=null&&w.contains(b.current)||n.panel.contains(b.current))return;let P=se(),F=P.indexOf(b.current);if(P.indexOf(n.button)>F)return;C.preventDefault(),C.stopPropagation(),U(n.panel,8)}else C.preventDefault(),C.stopPropagation(),U(n.panel,1);break}},[r,n.popoverState,n.buttonId,n.button,n.panel,o,i,s]),p=a.useCallback(C=>{var h;if(!s&&(C.key===" "&&C.preventDefault(),n.popoverState===0&&!!n.panel&&!!n.button))switch(C.key){case"Tab":if(!b.current||(h=n.button)!=null&&h.contains(b.current)||n.panel.contains(b.current))return;let w=se(),P=w.indexOf(b.current);if(w.indexOf(n.button)>P)return;C.preventDefault(),C.stopPropagation(),U(n.panel,8);break}},[n.popoverState,n.panel,n.button,s]),c=a.useCallback(C=>{var h,w;K(C.currentTarget)||e.disabled||(s?(r({type:1}),(h=n.button)==null||h.focus()):(n.popoverState===1&&(i==null||i(n.buttonId)),(w=n.button)==null||w.focus(),r({type:0})))},[r,n.button,n.popoverState,n.buttonId,e.disabled,i,s]),v=a.useMemo(()=>({open:n.popoverState===0}),[n]),x=ne(e,o),I=e,T=s?{ref:f,type:x,onKeyDown:y,onClick:c}:{ref:d,id:n.buttonId,type:x,"aria-expanded":e.disabled?void 0:n.popoverState===0,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:y,onKeyUp:p,onClick:c};return R({props:{...I,...T},slot:v,defaultTag:Gn,name:"Popover.Button"})}),Kn="div",Vn=3,zn=A(function(e,t){let[{popoverState:n},r]=me("Popover.Overlay"),o=M(t),l=`headlessui-popover-overlay-${D()}`,i=Q(),u=i!==null?i===0:n===0,s=a.useCallback(f=>{if(K(f.currentTarget))return f.preventDefault();r({type:1})},[r]),d=a.useMemo(()=>({open:n===0}),[n]);return R({props:{...e,ref:o,id:l,"aria-hidden":!0,onClick:s},slot:d,defaultTag:Kn,features:Vn,visible:u,name:"Popover.Overlay"})}),Yn="div",Jn=3,Xn=A(function(e,t){let{focus:n=!1,...r}=e,[o,l]=me("Popover.Panel"),{close:i}=it("Popover.Panel"),u=a.useRef(null),s=M(u,t,p=>{l({type:4,panel:p})}),d=Q(),f=d!==null?d===0:o.popoverState===0,m=a.useCallback(p=>{var c;switch(p.key){case"Escape":if(o.popoverState!==0||!u.current||!u.current.contains(document.activeElement))return;p.preventDefault(),p.stopPropagation(),l({type:1}),(c=o.button)==null||c.focus();break}},[o,u,l]);a.useEffect(()=>()=>l({type:4,panel:null}),[l]),a.useEffect(()=>{var p;e.static||o.popoverState===1&&((p=e.unmount)==null||p)&&l({type:4,panel:null})},[o.popoverState,e.unmount,e.static,l]),a.useEffect(()=>{if(!n||o.popoverState!==0||!u.current)return;let p=document.activeElement;u.current.contains(p)||U(u.current,1)},[n,u,o.popoverState]),$("keydown",p=>{var c;if(o.popoverState!==0||!u.current||p.key!=="Tab"||!document.activeElement||!u.current||!u.current.contains(document.activeElement))return;p.preventDefault();let v=U(u.current,p.shiftKey?2:4);if(v===3)return(c=o.button)==null?void 0:c.focus();if(v===1){if(!o.button)return;let x=se(),I=x.indexOf(o.button),T=x.splice(I+1).filter(C=>{var h;return!((h=u.current)!=null&&h.contains(C))});U(T,1)===0&&U(document.body,1)}}),$("focus",()=>{var p;!n||o.popoverState===0&&(!u.current||(p=u.current)!=null&&p.contains(document.activeElement)||l({type:1}))},!0);let b=a.useMemo(()=>({open:o.popoverState===0,close:i}),[o,i]),y={ref:s,id:o.panelId,onKeyDown:m};return g.createElement(Qe.Provider,{value:o.panelId},R({props:{...r,...y},slot:b,defaultTag:Yn,features:Jn,visible:f,name:"Popover.Panel"}))}),Zn="div";function er(e){let t=a.useRef(null),[n,r]=a.useState([]),o=a.useCallback(b=>{r(y=>{let p=y.indexOf(b);if(p!==-1){let c=y.slice();return c.splice(p,1),c}return y})},[r]),l=a.useCallback(b=>(r(y=>[...y,b]),()=>o(b)),[r,o]),i=a.useCallback(()=>{var b;let y=document.activeElement;return(b=t.current)!=null&&b.contains(y)?!0:n.some(p=>{var c,v;return((c=document.getElementById(p.buttonId))==null?void 0:c.contains(y))||((v=document.getElementById(p.panelId))==null?void 0:v.contains(y))})},[t,n]),u=a.useCallback(b=>{for(let y of n)y.buttonId!==b&&y.close()},[n]),s=a.useMemo(()=>({registerPopover:l,unregisterPopover:o,isFocusWithinPopoverGroup:i,closeOthers:u}),[l,o,i,u]),d=a.useMemo(()=>({}),[]),f={ref:t},m=e;return g.createElement(Ue.Provider,{value:s},R({props:{...m,...f},slot:d,defaultTag:Zn,name:"Popover.Group"}))}X.Button=qn;X.Overlay=zn;X.Panel=Xn;X.Group=er;a.createContext(null);var tr=a.createContext(null);tr.displayName="RadioGroupContext";var nr=a.createContext(null);nr.displayName="GroupContext";var rr=a.createContext(null);rr.displayName="TabsContext";function or(){let e=a.useRef(!0);return a.useEffect(()=>{e.current=!1},[]),e.current}function ar(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Re(e,...t){e&&t.length>0&&e.classList.add(...t)}function ie(e,...t){e&&t.length>0&&e.classList.remove(...t)}function lr(e,t){let n=_();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[l,i]=[r,o].map(u=>{let[s=0]=u.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return s});return l!==0?n.setTimeout(()=>{t("finished")},l+i):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Ye(e,t,n,r,o,l){let i=_(),u=l!==void 0?ar(l):()=>{};return ie(e,...o),Re(e,...t,...n),i.nextFrame(()=>{ie(e,...n),Re(e,...r),i.add(lr(e,s=>(ie(e,...r,...t),Re(e,...o),u(s))))}),i.add(()=>ie(e,...t,...n,...r,...o)),i.add(()=>u("cancelled")),i.dispose}function G(e=""){return a.useMemo(()=>e.split(" ").filter(t=>t.trim().length>1),[e])}var ye=a.createContext(null);ye.displayName="TransitionContext";function ur(){let e=a.useContext(ye);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ir(){let e=a.useContext(xe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}var xe=a.createContext(null);xe.displayName="NestingContext";function he(e){return"children"in e?he(e.children):e.current.filter(({state:t})=>t==="visible").length>0}function ct(e){let t=a.useRef(e),n=a.useRef([]),r=nt();a.useEffect(()=>{t.current=e},[e]);let o=a.useCallback((i,u=1)=>{var s;let d=n.current.findIndex(({id:f})=>f===i);d!==-1&&(k(u,{0(){n.current.splice(d,1)},1(){n.current[d].state="hidden"}}),!he(n)&&r.current&&((s=t.current)==null||s.call(t)))},[t,r,n]),l=a.useCallback(i=>{let u=n.current.find(({id:s})=>s===i);return u?u.state!=="visible"&&(u.state="visible"):n.current.push({id:i,state:"visible"}),()=>o(i,0)},[n,o]);return a.useMemo(()=>({children:n,register:l,unregister:o}),[l,o,n])}function sr(){}var cr=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Je(e){var t;let n={};for(let r of cr)n[r]=(t=e[r])!=null?t:sr;return n}function dr(e){let t=a.useRef(Je(e));return a.useEffect(()=>{t.current=Je(e)},[e]),t}var pr="div",dt=1;function pt(e){let{beforeEnter:t,afterEnter:n,beforeLeave:r,afterLeave:o,enter:l,enterFrom:i,enterTo:u,entered:s,leave:d,leaveFrom:f,leaveTo:m,...b}=e,y=a.useRef(null),[p,c]=a.useState("visible"),v=b.unmount?0:1,{show:x,appear:I,initial:T}=ur(),{register:C,unregister:h}=ir(),w=D(),P=a.useRef(!1),F=ct(()=>{P.current||(c("hidden"),h(w),L.current.afterLeave())});E(()=>{if(w)return C(w)},[C,w]),E(()=>{if(v===1&&w){if(x&&p!=="visible"){c("visible");return}k(p,{hidden:()=>h(w),visible:()=>C(w)})}},[p,w,C,h,x,v]);let S=G(l),N=G(i),H=G(u),ae=G(s),le=G(d),O=G(f),B=G(m),L=dr({beforeEnter:t,afterEnter:n,beforeLeave:r,afterLeave:o}),V=de();a.useEffect(()=>{if(V&&p==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,p,V]);let We=T&&!I;E(()=>{let ge=y.current;if(ge&&!We)return P.current=!0,x&&L.current.beforeEnter(),x||L.current.beforeLeave(),x?Ye(ge,S,N,H,ae,Ee=>{P.current=!1,Ee==="finished"&&L.current.afterEnter()}):Ye(ge,le,O,B,ae,Ee=>{P.current=!1,Ee==="finished"&&(he(F)||(c("hidden"),h(w),L.current.afterLeave()))})},[L,w,P,h,F,y,We,x,S,N,H,le,O,B]);let bt={ref:y},mt=b;return g.createElement(xe.Provider,{value:F},g.createElement(Y,{value:k(p,{visible:0,hidden:1})},R({props:{...mt,...bt},defaultTag:pr,features:dt,visible:p==="visible",name:"Transition.Child"})))}function ee(e){let{show:t,appear:n=!1,unmount:r,...o}=e,l=Q();if(t===void 0&&l!==null&&(t=k(l,{0:!0,1:!1})),![!0,!1].includes(t))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[i,u]=a.useState(t?"visible":"hidden"),s=ct(()=>{u("hidden")}),d=or(),f=a.useMemo(()=>({show:t,appear:n||!d,initial:d}),[t,n,d]);a.useEffect(()=>{t?u("visible"):he(s)||u("hidden")},[t,s]);let m={unmount:r};return g.createElement(xe.Provider,{value:s},g.createElement(ye.Provider,{value:f},R({props:{...m,as:a.Fragment,children:g.createElement(pt,{...m,...o})},defaultTag:a.Fragment,features:dt,visible:i==="visible",name:"Transition"})))}ee.Child=function(e){let t=a.useContext(ye)!==null,n=Q()!==null;return!t&&n?g.createElement(ee,{...e}):g.createElement(pt,{...e})};ee.Root=ee;var ft=a.forwardRef(function(t,n){return a.createElement(Ze,xt({sideCar:ht,ref:n},t))}),vt=Ze.propTypes||{};vt.sideCar;yt(vt,["sideCar"]);ft.propTypes={};const fr="\x1B[33m ",vr="\x1B[0m ",br=e=>{console.warn(`${fr}
CULTUREAMP UI WARNING:
${mr(e)}${vr}
`)},mr=e=>e.replace(/^ +/gm," ").replace(/\n|\r/gm,"").trim(),yr=a.createContext({labelledByID:"modal-labelledby",describedByID:"modal-describedby"}),xr="_defaultModalWidth_137fw_57",hr="_backdropLayer_137fw_62",gr="_scrollLayer_137fw_77",Er="_modalLayer_137fw_93",Cr="_animatingEnter_137fw_99",Ir="_animatingLeave_137fw_139",Rr="_unscrollable_137fw_174",wr="_pseudoScrollbar_137fw_179",Sr="_hide_137fw_184",j={defaultModalWidth:xr,backdropLayer:hr,scrollLayer:gr,modalLayer:Er,animatingEnter:Cr,"fade-0-to-0-5":"_fade-0-to-0-5_137fw_1","custom-1":"_custom-1_137fw_1",animatingLeave:Ir,"fade-0-5-to-0":"_fade-0-5-to-0_137fw_1","custom-3":"_custom-3_137fw_1",unscrollable:Rr,pseudoScrollbar:wr,hide:Sr},kr=({id:e,children:t,isOpen:n=!0,focusLockDisabled:r,onEscapeKeyup:o,onOutsideModalClick:l,onAfterEnter:i,onAfterLeave:u})=>{const s=a.useId(),d=e??s,f=a.useId(),m=a.useId(),[b,y]=a.useState(null),[p,c]=a.useState(null),v=()=>{requestAnimationFrame(()=>{b&&(b.scrollTop=0)})},x=S=>{(S.target===b||S.target===p)&&(l==null||l(S))},I=()=>{if(p!=null&&p.contains(document.activeElement))return;const S=document.getElementById(f);S==null||S.focus()},T=()=>{document.getElementById(f)||br(`When using the Modal component, you must provide a label for the modal.
        Make sure you have a <ModalAccessibleLabel /> component with content that labels the modal.`)},C=()=>{const S=window.innerWidth>document.documentElement.clientWidth,N=[j.unscrollable];S&&N.push(j.pseudoScrollbar),document.documentElement.classList.add(...N)},h=()=>{v(),p&&(i==null||i(),I(),T())},w=()=>{C(),o&&document.addEventListener("keyup",S=>{S.key==="Escape"&&(o==null||o(S))})},P=()=>{document.documentElement.classList.remove(j.unscrollable,j.pseudoScrollbar),o&&document.removeEventListener("keyup",o)};a.useEffect(()=>()=>P(),[]);const F=()=>{P(),u==null||u()};return Xe.createPortal(g.createElement(ee,{appear:!0,show:n,enter:j.animatingEnter,leave:j.animatingLeave,beforeEnter:w,afterEnter:h,afterLeave:F,"data-generic-modal-transition-wrapper":!0,onClick:S=>S.stopPropagation()},g.createElement(ft,{disabled:r,returnFocus:!0,autoFocus:!1},g.createElement("div",{className:j.backdropLayer}),g.createElement("div",{className:j.scrollLayer,ref:S=>{y(S)},onClick:x,"data-testid":`${d}-scrollLayer`},g.createElement(yr.Provider,{value:{labelledByID:f,describedByID:m}},g.createElement("div",{role:"dialog",className:j.modalLayer,"aria-labelledby":f,"aria-describedby":m,ref:S=>c(S),"data-testid":d},t))))),document.body)};kr.displayName="GenericModal";export{kr as G,yr as M};
