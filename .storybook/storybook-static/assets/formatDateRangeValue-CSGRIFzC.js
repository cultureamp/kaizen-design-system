import{R as e,r as y}from"./index-CTjT7uj6.js";import{c as x}from"./index-CCQ3W5xA.js";import{a as V,D as $,b as H,e as U,i as W}from"./isInvalidDate-CQ4jNt7-.js";import{A as Y}from"./ArrowBackwardIcon-D9T-C9o2.js";import{A as j}from"./ArrowForwardIcon-BVPHqAvL.js";import{D as G}from"./enums-Cb8LLpRk.js";import{i as K}from"./isValidWeekStartsOn-CZGl9tvK.js";import{D as z}from"./DateStartIcon-DLPQFSri.js";import{L as J}from"./Label-DlmzItqQ.js";import{F as Q}from"./Combination-DFaMps7A.js";import{c as X}from"./calculateDisabledDays-DlHy-kbk.js";import{C as Z}from"./CalendarPopover-Do4ZmdN_.js";import{V as ee}from"./VisuallyHidden-CDYjeGzr.js";import{i as te}from"./isDisabledDate-DCznrglD.js";const ae="_nav_sql5m_2",ne="_navButtonNext_sql5m_10",re="_dayRangeStart_sql5m_14",oe="_dayRangeEnd_sql5m_15",se="_dayRangeMiddle_sql5m_20",p={nav:ae,navButtonNext:ne,dayRangeStart:re,dayRangeEnd:oe,dayRangeMiddle:se},v=({classNameOverride:t,defaultMonth:o,weekStartsOn:i=G.Mon,disabledDays:l,selectedRange:a,locale:c,onDayChange:m})=>{const s=(a==null?void 0:a.from)||o,h=s&&V(s)?void 0:s,g={...H,nav:p.nav,nav_button_next:p.navButtonNext,day_range_start:p.dayRangeStart,day_range_end:p.dayRangeEnd,day_range_middle:p.dayRangeMiddle};return e.createElement("div",{className:t},e.createElement($,{mode:"range",selected:a,defaultMonth:h,weekStartsOn:K(i)?i:void 0,disabled:l,onDayClick:m,classNames:g,components:{IconRight:()=>e.createElement(j,{role:"presentation"}),IconLeft:()=>e.createElement(Y,{role:"presentation"})},locale:c}))};v.displayName="LegacyCalendarRange";v.__docgenInfo={description:"",methods:[],displayName:"LegacyCalendarRange",props:{classNameOverride:{required:!1,tsType:{name:"string"},description:""},defaultMonth:{required:!1,tsType:{name:"Date"},description:""},weekStartsOn:{required:!1,tsType:{name:"DayOfWeek"},description:"",defaultValue:{value:"1",computed:!1}},disabledDays:{required:!1,tsType:{name:"Array",elements:[{name:"Matcher"}],raw:"Matcher[]"},description:""},selectedRange:{required:!1,tsType:{name:"DateRange"},description:""},locale:{required:!0,tsType:{name:"Locale"},description:""},onDayChange:{required:!0,tsType:{name:"DayClickEventHandler"},description:""}}};const ie="_button_1trsy_5",le="_disabled_1trsy_48",de="_value_1trsy_54",ce="_startIconAdornment_1trsy_63",me="_withStartIconAdornment_1trsy_68",u={button:ie,disabled:le,value:de,startIconAdornment:ce,withStartIconAdornment:me},q=({id:t,buttonRef:o=y.useRef(null),description:i,labelText:l,isDisabled:a=!1,classNameOverride:c,disabledDates:m,disabledDaysOfWeek:s,disabledRange:h,disabledBeforeAfter:g,disabledBefore:w,disabledAfter:T,weekStartsOn:C,defaultMonth:L,selectedDateRange:n,value:S,onChange:k,...I})=>{const O=y.useId(),d=t??O,D=y.useRef(null),[_,M]=y.useState(!1),E=X({disabledDates:m,disabledDaysOfWeek:s,disabledRange:h,disabledBeforeAfter:g,disabledBefore:w,disabledAfter:T}),f=()=>{M(!_)},N=()=>{o.current&&o.current.focus()},A=r=>{te(r,E)||n&&(R(n,r)?k({from:r,to:void 0}):(k({from:n.from,to:r}),f()))},R=(r,F)=>{const B=!!r.from&&W(F,[{before:r.from}]),P=!!r.from&&!!r.to;return!r.from||B||P};return e.createElement("div",null,e.createElement("div",{ref:D,className:c},e.createElement(J,{id:`${d}-input-label`,disabled:a,htmlFor:d,labelText:l}),e.createElement("button",{type:"button",id:d,className:x(u.button,u.withStartIconAdornment,{[u.disabled]:a}),disabled:a,ref:o,onClick:f,"aria-label":n!=null&&n.from?`Change date: ${S}`:"Choose date",...I},e.createElement("div",{className:u.startIconAdornment},e.createElement(z,{role:"presentation"})),e.createElement("span",{className:u.value},n!=null&&n.from?S:void 0))),_&&e.createElement(Q,{scrollLock:!1,onDeactivation:N,onClickOutside:f,onEscapeKey:f,enabled:_},e.createElement(Z,{referenceElement:D.current,"aria-labelledby":`${d}-calendar-label ${d}-input-label`},e.createElement(ee,{id:`${d}-calendar-label`},"Select dates from calendar for:"),e.createElement(v,{selectedRange:n,defaultMonth:L,weekStartsOn:C,disabledDays:E,onDayChange:A,locale:U}))))};q.displayName="DateRangePicker";q.__docgenInfo={description:`{@link https://cultureamp.atlassian.net/wiki/spaces/DesignSystem/pages/3082094237/Date+Range+Picker Guidance} |
{@link https://cultureamp.design/storybook/?path=/docs/components-date-controls-daterangepicker--docs Storybook}`,methods:[],displayName:"DateRangePicker",props:{id:{required:!1,tsType:{name:"string"},description:""},classNameOverride:{required:!1,tsType:{name:"string"},description:""},labelText:{required:!0,tsType:{name:"string"},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},buttonRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"HTMLButtonElement"}],raw:"RefObject<HTMLButtonElement>"},description:"",defaultValue:{value:"useRef<HTMLButtonElement>(null)",computed:!0}},description:{required:!1,tsType:{name:"string"},description:""},selectedDateRange:{required:!1,tsType:{name:"DateRange"},description:`Selected date range which is being updated in handleDayClick and checked
if within range/not disabled and then passed back to the client to update
the state.`},value:{required:!1,tsType:{name:"string"},description:`String that is formatted by the client with our helper formatDateRangeValue
and then passed into the button to display the readable range.`},weekStartsOn:{required:!1,tsType:{name:'LegacyCalendarRangeProps["weekStartsOn"]',raw:'LegacyCalendarRangeProps["weekStartsOn"]'},description:`Accepts a DayOfWeek value to start the week on that day.
By default it adapts to the provided locale.`},defaultMonth:{required:!1,tsType:{name:'LegacyCalendarRangeProps["defaultMonth"]',raw:'LegacyCalendarRangeProps["defaultMonth"]'},description:"Accepts a date to display that month on first render."},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(dateRange: DateRange) => void",signature:{arguments:[{type:{name:"DateRange"},name:"dateRange"}],return:{name:"void"}}},description:"Event passed from consumer to handle the date on change."}}};const b={month:"short",year:"numeric",day:"numeric"},pe={month:"short",day:"numeric"},Te=t=>{var o,i,l,a;if(t.to){const m=((o=t.from)==null?void 0:o.getFullYear())===((i=t==null?void 0:t.to)==null?void 0:i.getFullYear())?(l=t.from)==null?void 0:l.toLocaleDateString("en-US",pe):(a=t.from)==null?void 0:a.toLocaleDateString("en-US",b),s=t.to.toLocaleDateString("en-US",b);return`${m} â€“ ${s}`}else return t.from?t.from.toLocaleDateString("en-US",b):""};export{q as D,v as L,Te as f};
