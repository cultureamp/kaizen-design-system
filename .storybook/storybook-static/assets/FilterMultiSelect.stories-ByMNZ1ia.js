import{R as e,r as m}from"./index-CTjT7uj6.js";import{Q as w,m as f,u as R,a as A,s as b,b as K,k as H}from"./FilterMultiSelect.module-CB62p0Td.js";import{i as W}from"./isChromatic-VqprqId_.js";import{T as B}from"./Text-D2gQH1xL.js";import{T as Q}from"./TextField-C70Pg5K2.js";import{F as t,g as L}from"./FilterMultiSelect-wvMpAK6s.js";import{I as U}from"./InlineNotification-CD7nmnbO.js";import"./jsx-runtime-Cw0GR0a5.js";import"./index-CCQ3W5xA.js";import"./SuccessIcon-BInyqVzG.js";import"./SVG-7WFwBCn9.js";import"./Label-DlmzItqQ.js";import"./FieldGroup-Dj6p3DL3.js";import"./Input-BFyrvMXQ.js";import"./FieldMessage-D8OmrYjz.js";import"./ExclamationWhiteIcon-dXgVQUA_.js";import"./useButton-CDp2hby9.js";import"./useFocusable-CuIK6Qs-.js";import"./focusSafely-ByiDPXQJ.js";import"./SSRProvider-C8o06Znb.js";import"./useFocusWithin-C7oArVkD.js";import"./usePress-nudZ2Xgz.js";import"./SelectionManager-yuMfDyd5.js";import"./useCollator-DHdgfgeP.js";import"./context-AGV5_Mtb.js";import"./useOverlayTriggerState-B1dSu2Ro.js";import"./useControlledState-CEg4Rl-x.js";import"./index-9r8iugjR.js";import"./useMenuTriggerState-D_-PdoOj.js";import"./useListState-CBqvwiGH.js";import"./useLabel-BoFVh7qz.js";import"./useHover-Bq751pFs.js";import"./VisuallyHidden-CDYjeGzr.js";import"./FilterButton-BGzpTfmP.js";import"./ChevronDownIcon-prLLyjG_.js";import"./ChevronUpIcon-D9pr3Qd6.js";import"./isRefObject-39zMTbtm.js";import"./FilterButtonBase-D953FwLo.js";import"./FilterButtonRemovable-CDjh8qGF.js";import"./ClearIcon-BcQoGkgT.js";import"./index-CdP7-hSn.js";import"./usePopper-D4ykrdaR.js";import"./useIntl-Ci3jBQGG.js";import"./startOfDay-MoyOWjoN.js";import"./index-DBmEjBSQ.js";import"./tslib.es6-CY32MZYl.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./ButtonGroup-Cm1_R1hn.js";import"./InputSearch-DY9HBN0G.js";import"./SearchIcon-Dhjhqmnw.js";import"./LoadingSpinner-DHfeGxpm.js";import"./ClearButton-K9bfbh4U.js";import"./Divider-B-j384PU.js";import"./CheckIcon-BwUvLWmE.js";import"./Badge-D9GUNioS.js";import"./LoadingInput-X-emq8Sb.js";import"./LoadingParagraph-CXl7iitU.js";import"./Button-DDkdQqLR.js";import"./GenericButton-CnAyP-Wm.js";import"./utils-e-dMXvly.js";import"./Link-DkKiEG74.js";import"./GenericNotification-DqRrnmyu.js";import"./CautionIcon-D4m_GXrx.js";import"./ExclamationIcon-CBwbCtpu.js";import"./InformationIcon-DxLaBSbb.js";import"./SecurityTipIcon-CgXON2WE.js";import"./Heading-Y5F8SWRW.js";import"./CloseIcon-BAUhi63R.js";const d=W(),D=new w,q=l=>e.createElement(K,{client:D},e.createElement(l,null)),rt={title:"Components/Filter Multi-Select",component:t,parameters:{docs:{source:{type:"code"}}},args:{label:"Engineer",items:f,selectedKeys:new Set(["id-fe"]),trigger:()=>e.createElement(t.TriggerButton,{selectedOptionLabels:["Front-End"],label:"Engineer"}),children:()=>e.createElement(e.Fragment,null,e.createElement(t.SearchInput,null),e.createElement(t.ListBox,null,({allItems:l,hasNoItems:a})=>a?e.createElement(t.NoResults,null,"No results found."):l.map(o=>e.createElement(t.Option,{key:o.key,item:o}))),e.createElement(t.MenuFooter,null,e.createElement(t.SelectAllButton,null),e.createElement(t.ClearButton,null)))}},p={render:l=>{const[a,o]=m.useState(l.selectedKeys);return e.createElement(t,{...l,onSelectionChange:o,selectedKeys:a,trigger:()=>e.createElement(t.TriggerButton,{selectedOptionLabels:L(a,l.items),label:l.label})})}},lt={...p},at={args:{isLoading:!0,isOpen:d||void 0,loadingSkeleton:e.createElement(t.MenuLoadingSkeleton,null)},parameters:{chromatic:{disable:!1},controls:{disable:!0}}},ot={render:l=>{const[a,o]=m.useState(l.selectedKeys),[i,n]=m.useState(50),E=h=>n(+h.target.value);return e.createElement(e.Fragment,null,e.createElement(Q,{labelText:"Character limit",onChange:E,value:i,classNameOverride:"mb-24"}),e.createElement(t,{...l,onSelectionChange:o,selectedKeys:a,trigger:()=>e.createElement(t.TriggerButton,{selectedOptionLabels:L(a,f),label:l.label,labelCharacterLimitBeforeTruncate:i})}))}},it={...p,args:{items:f.slice(0,3)}},ct={render:()=>{const[l,a]=m.useState(!1),[o,i]=m.useState([]),[n,E]=m.useState(""),h=R(),x=async({pageParam:r})=>(await fetch(`https://swapi.dev/api/people/?page=${r}&search=${n}`)).json(),{data:u,isLoading:N,fetchNextPage:O,isFetchingNextPage:C,hasNextPage:k,isRefetching:F}=A({enabled:!0,initialPageParam:"1",queryKey:["startrek-sg1",n],queryFn:x,placeholderData:H,getNextPageParam:r=>{if(!r.next)return;const c=new URL(r.next);return new URLSearchParams(c.searchParams).get("page")}}),S=h.getQueriesData({queryKey:["startrek-sg1"]}).flatMap(([,r])=>(r==null?void 0:r.pages)??[]).flatMap(r=>r.results).map(r=>({label:r.name,value:r.url})),y=e.useMemo(()=>(u==null?void 0:u.pages.flatMap(r=>r.results).flatMap(r=>({label:r.name,value:r.url})))||[],[u]),v=[...y,...S].filter((r,c,g)=>g.findIndex(s=>s.value===r.value)===c),P=n!==""?y:Array.from(v),M=y.length,T=S.length;return e.createElement(e.Fragment,null,e.createElement(t,{label:"People",isLoading:N,loadingSkeleton:e.createElement(t.MenuLoadingSkeleton,null),items:P,trigger:()=>e.createElement(t.TriggerButton,{selectedOptionLabels:L(new Set(o),S),label:"People"}),onSearchInputChange:E,onOpenChange:a,onSelectionChange:r=>{r!=="all"&&i(Array.from(r))},isOpen:l,selectedKeys:new Set(o)},()=>e.createElement(e.Fragment,null,e.createElement(t.SearchInput,{isLoading:F&&n!==""}),e.createElement(t.ListBox,null,({selectedItems:r,unselectedItems:c,hasNoItems:g})=>e.createElement(e.Fragment,null,g?e.createElement(t.NoResults,null,"No results found for ",n,"."):n!==""?e.createElement(B,{classNameOverride:b.helperMessage,variant:"extra-small",tag:"span",color:"dark-reduced-opacity"},"Showing ",M," of ",T):k&&e.createElement(B,{classNameOverride:b.helperMessage,variant:"extra-small",tag:"span",color:"dark-reduced-opacity"},"There are a lot of options. Narrow them further by searching for a more precise term."),e.createElement(t.ListBoxSection,{items:r,sectionName:"Selected items"},s=>e.createElement(t.Option,{key:s.key,item:s})),c.length>0&&r.length>0&&e.createElement(t.SectionDivider,null),e.createElement(t.ListBoxSection,{items:c,sectionName:"Unselected items"},s=>e.createElement(t.Option,{key:s.key,item:s})),k&&e.createElement(t.LoadMoreButton,{label:"View more",workingLabel:"Loadingâ€¦",working:C,onClick:()=>O()}))),e.createElement(t.MenuFooter,null,e.createElement(t.SelectAllButton,null),e.createElement(t.ClearButton,null)))))},decorators:[q]},st={...p,args:{isOpen:d||void 0,children:()=>e.createElement(e.Fragment,null,e.createElement(t.SearchInput,null),e.createElement(t.ListBox,null,({selectedItems:l,unselectedItems:a,disabledItems:o,hasNoItems:i})=>e.createElement(e.Fragment,null,i&&e.createElement(t.NoResults,null,"No results found."),e.createElement(t.ListBoxSection,{items:l,sectionName:"Selected items"},n=>e.createElement(t.Option,{key:n.key,item:n})),a.length>0&&l.length>0&&e.createElement(t.SectionDivider,null),e.createElement(t.ListBoxSection,{items:a,sectionName:"Unselected items"},n=>e.createElement(t.Option,{key:n.key,item:n})),o.length>0&&(l.length>0||a.length>0)&&e.createElement(t.SectionDivider,null),e.createElement(t.ListBoxSection,{items:o,sectionName:"Disabled items"},n=>e.createElement(t.Option,{key:n.key,item:n})))),e.createElement(t.MenuFooter,null,e.createElement(t.SelectAllButton,null),e.createElement(t.ClearButton,null)))},parameters:{chromatic:{disable:!1}}},mt={...p,args:{isOpen:d||void 0,children:()=>e.createElement(e.Fragment,null,e.createElement(t.SearchInput,null),e.createElement(t.ListBox,null,({selectedItems:l,unselectedItems:a,disabledItems:o,hasNoItems:i})=>i?e.createElement(t.NoResults,null,"No results found."):e.createElement(e.Fragment,null,l.length>0&&e.createElement(t.ListBoxSection,{items:l,sectionHeader:"Selected items"},n=>e.createElement(t.Option,{key:n.key,item:n})),a.length>0&&e.createElement(t.ListBoxSection,{items:a,sectionHeader:"Unselected items"},n=>e.createElement(t.Option,{key:n.key,item:n})),o.length>0&&e.createElement(t.ListBoxSection,{items:o,sectionHeader:"Disabled items"},n=>e.createElement(t.Option,{key:n.key,item:n})))),e.createElement(t.MenuFooter,null,e.createElement(t.SelectAllButton,null),e.createElement(t.ClearButton,null)))},parameters:{chromatic:{disable:!1}}},pt={...p,args:{isOpen:d||void 0,children:()=>e.createElement(e.Fragment,null,e.createElement(t.SearchInput,null),e.createElement(t.ListBox,null,({selectedItems:l,unselectedItems:a,disabledItems:o,hasNoItems:i})=>e.createElement(e.Fragment,null,i?e.createElement(t.NoResults,null,"No results found."):e.createElement(e.Fragment,null,l.length>0&&e.createElement(t.ListBoxSection,{items:l,sectionHeader:"Selected items"},n=>e.createElement(t.Option,{key:n.key,item:n})),a.length>0&&e.createElement(t.ListBoxSection,{items:a,sectionHeader:"Unselected items"},n=>e.createElement(t.Option,{key:n.key,item:n})),o.length>0&&e.createElement(t.ListBoxSection,{items:o,sectionHeader:e.createElement(e.Fragment,null,e.createElement("span",{className:"mb-6"},"Disabled items"),e.createElement(U,{type:"cautionary",persistent:!0,noBottomMargin:!0,headingProps:{tag:"span",variant:"heading-5",children:"Confidentiality protection"}},"Results for these filters are hidden to protect identities of individuals and small groups"))},n=>e.createElement(t.Option,{key:n.key,item:n}))))),e.createElement(t.MenuFooter,null,e.createElement(t.SelectAllButton,null),e.createElement(t.ClearButton,null)))},parameters:{chromatic:{disable:!1}}},ut=["Playground","Loading","TruncatedLabels","WithNoScrollbar","Async","WithSections","WithSectionHeaders","WithSectionNotification"];export{ct as Async,at as Loading,lt as Playground,ot as TruncatedLabels,it as WithNoScrollbar,mt as WithSectionHeaders,pt as WithSectionNotification,st as WithSections,ut as __namedExportsOrder,rt as default};
