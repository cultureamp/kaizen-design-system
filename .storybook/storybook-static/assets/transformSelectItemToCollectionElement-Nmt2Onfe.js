import{a as F,b as w,g as U,n as J,x as Q}from"./focusSafely-ByiDPXQJ.js";import{a as X}from"./usePress-nudZ2Xgz.js";import{R as n,r as g}from"./index-CTjT7uj6.js";import{f as Y,g as Z,h as ee,i as te,j as D}from"./SelectionManager-yuMfDyd5.js";import{b as ne,c as ae}from"./useCollator-DHdgfgeP.js";import{$ as oe,a as ie,b as re,c as le}from"./useField-DwroQcrk.js";import{c as se,$ as de}from"./useOverlayTriggerState-B1dSu2Ro.js";import{$ as ce,a as ue,b as pe,c as R}from"./useListState-CBqvwiGH.js";import{$ as me}from"./useControlledState-CEg4Rl-x.js";import{D as ye}from"./Divider-B-j384PU.js";import{c as k}from"./index-CCQ3W5xA.js";import{H as fe}from"./Heading-Y5F8SWRW.js";import{a as be}from"./useButton-CDp2hby9.js";import{C as ge}from"./CheckIcon-BwUvLWmE.js";function B(e){return null}B.getCollectionNode=function*(t){let{children:a,title:o,items:i}=t;yield{type:"section",props:t,hasChildNodes:!0,rendered:o,"aria-label":t["aria-label"],*childNodes(){if(typeof a=="function"){if(!i)throw new Error("props.children was a function but props.items is missing");for(let r of i)yield{type:"item",value:r,renderer:a}}else{let r=[];n.Children.forEach(a,l=>{r.push({type:"item",element:l})}),yield*r}}}};let ve=B;function he(e){let{heading:t,"aria-label":a}=e,o=F();return{itemProps:{role:"presentation"},headingProps:t?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":a,"aria-labelledby":t?o:void 0}}}const A=new WeakMap;function Ze(e,t,a){let{keyboardDelegate:o,isDisabled:i,isRequired:r,name:l,validationBehavior:u="aria"}=e,s=ne({usage:"search",sensitivity:"base"}),d=g.useMemo(()=>o||new Y(t.collection,t.disabledKeys,null,s),[o,t.collection,t.disabledKeys,s]),{menuTriggerProps:p,menuProps:m}=Z({isDisabled:i,type:"listbox"},t,a),y=c=>{switch(c.key){case"ArrowLeft":{c.preventDefault();let v=t.selectedKey!=null?d.getKeyAbove(t.selectedKey):d.getFirstKey();v&&t.setSelectedKey(v);break}case"ArrowRight":{c.preventDefault();let v=t.selectedKey!=null?d.getKeyBelow(t.selectedKey):d.getFirstKey();v&&t.setSelectedKey(v);break}}},{typeSelectProps:h}=ee({keyboardDelegate:d,selectionManager:t.selectionManager,onTypeSelect(c){t.setSelectedKey(c)}}),{isInvalid:q,validationErrors:E,validationDetails:M}=t.displayValidation,{labelProps:H,fieldProps:$,descriptionProps:V,errorMessageProps:z}=oe({...e,labelElementType:"span",isInvalid:q,errorMessage:e.errorMessage||E});h.onKeyDown=h.onKeyDownCapture,delete h.onKeyDownCapture;let W=X(e,{labelable:!0}),f=w(h,p,$),K=F();return A.set(t,{isDisabled:i,isRequired:r,name:l,validationBehavior:u}),{labelProps:{...H,onClick:()=>{e.isDisabled||(a.current.focus(),U("keyboard"))}},triggerProps:w(W,{...f,isDisabled:i,onKeyDown:J(f.onKeyDown,y,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[K,f["aria-labelledby"],f["aria-label"]&&!f["aria-labelledby"]?f.id:null].filter(Boolean).join(" "),onFocus(c){t.isFocused||(e.onFocus&&e.onFocus(c),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(c){t.isOpen||(e.onBlur&&e.onBlur(c),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:K},menuProps:{...m,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:c=>{c.currentTarget.contains(c.relatedTarget)||(e.onBlur&&e.onBlur(c),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[$["aria-labelledby"],f["aria-label"]&&!$["aria-labelledby"]?f.id:null].filter(Boolean).join(" ")},descriptionProps:V,errorMessageProps:z,isInvalid:q,validationErrors:E,validationDetails:M}}function Ne(e,t,a){let o=A.get(t)||{},{autoComplete:i,name:r=o.name,isDisabled:l=o.isDisabled}=e,{validationBehavior:u,isRequired:s}=o,d=Q(),{visuallyHiddenProps:p}=se();ie(e.selectRef,t.selectedKey,t.setSelectedKey),re({validationBehavior:u,focus:()=>a.current.focus()},t,e.selectRef);var m;return{containerProps:{...p,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{type:"text",tabIndex:d==null||t.isFocused||t.isOpen?-1:0,style:{fontSize:16},onFocus:()=>a.current.focus(),disabled:l},selectProps:{tabIndex:-1,autoComplete:i,disabled:l,required:u==="native"&&s,name:r,value:(m=t.selectedKey)!==null&&m!==void 0?m:"",onChange:y=>t.setSelectedKey(y.target.value)}}}function et(e){let{state:t,triggerRef:a,label:o,name:i,isDisabled:r}=e,l=g.useRef(null),{containerProps:u,inputProps:s,selectProps:d}=Ne({...e,selectRef:l},t,a);var p;return t.collection.size<=300?n.createElement("div",{...u,"data-testid":"hidden-select-container"},n.createElement("input",s),n.createElement("label",null,o,n.createElement("select",{...d,ref:l},n.createElement("option",null),[...t.collection.getKeys()].map(m=>{let y=t.collection.getItem(m);if(y.type==="item")return n.createElement("option",{key:y.key,value:y.key},y.textValue)})))):i?n.createElement("input",{type:"hidden",autoComplete:d.autoComplete,name:i,disabled:r,value:(p=t.selectedKey)!==null&&p!==void 0?p:""}):null}function Oe(e){var t;let[a,o]=me(e.selectedKey,(t=e.defaultSelectedKey)!==null&&t!==void 0?t:null,e.onSelectionChange),i=g.useMemo(()=>a!=null?[a]:[],[a]),{collection:r,disabledKeys:l,selectionManager:u}=ce({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:i,onSelectionChange:d=>{var p;let m=(p=d.values().next().value)!==null&&p!==void 0?p:null;m===a&&e.onSelectionChange&&e.onSelectionChange(m),o(m)}}),s=a!=null?r.getItem(a):null;return{collection:r,disabledKeys:l,selectionManager:u,selectedKey:a,setSelectedKey:o,selectedItem:s}}function tt(e){let t=de(e),[a,o]=g.useState(null),i=Oe({...e,onSelectionChange:s=>{e.onSelectionChange!=null&&e.onSelectionChange(s),t.close(),r.commitValidation()}}),r=le({...e,value:i.selectedKey}),[l,u]=g.useState(!1);return{...r,...i,...t,focusStrategy:a,open(s=null){i.collection.size!==0&&(o(s),t.open())},toggle(s=null){i.collection.size!==0&&(o(s),t.toggle())},isFocused:l,setFocused:u}}const j=n.createContext(null),N=()=>{const e=g.useContext(j);if(!e)throw new Error("useSelectContext must be used within the SelectContext.Provider");return e},$e=({children:e,state:t})=>n.createElement(j.Provider,{value:{state:t}},e);$e.__docgenInfo={description:"",methods:[],displayName:"SelectProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},state:{required:!0,tsType:{name:"SelectState",elements:[{name:"union",raw:`| Option
| SelectOptionGroup<Option>`,elements:[{name:"Option"},{name:"signature",type:"object",raw:`{
  label: string
  options: Iterable<Option>
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"options",value:{name:"Iterable",elements:[{name:"Option"}],raw:"Iterable<Option>",required:!0}}]}}]}],raw:"SelectState<SelectItem<Option>>"},description:""}}};const Se="_listBox_12g4v_1",we="_focus_12g4v_9",ke={listBox:Se,focus:we},x=({children:e,menuProps:t,classNameOverride:a,...o})=>{const{state:i}=N(),r=n.useRef(null),{listBoxProps:l}=ue({...t,disallowEmptySelection:!0,autoFocus:"first"},i,r);return n.createElement("ul",{ref:r,className:k(ke.listBox,a),...l,...o},e)};x.displayName="ListBox";x.__docgenInfo={description:"",methods:[],displayName:"ListBox",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},menuProps:{required:!0,tsType:{name:"AriaListBoxOptions",elements:[{name:"union",raw:`| Option
| SelectOptionGroup<Option>`,elements:[{name:"Option"},{name:"signature",type:"object",raw:`{
  label: string
  options: Iterable<Option>
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"options",value:{name:"Iterable",elements:[{name:"Option"}],raw:"Iterable<Option>",required:!0}}]}}]}],raw:"AriaListBoxOptions<SelectItem<Option>>"},description:"Props for the popup."}}};const xe="_icon_1ukxr_5",Ce="_option_1ukxr_14",_e="_isFocusVisible_1ukxr_36",Pe="_disabled_1ukxr_52",Ie="_isSelected_1ukxr_60",b={icon:xe,option:Ce,isFocusVisible:_e,disabled:Pe,isSelected:Ie},O=({item:e,classNameOverride:t,...a})=>{const{state:o}=N(),i=n.useRef(null),{optionProps:r,isSelected:l,isDisabled:u}=pe({key:e.key},o,i),{isFocusVisible:s,focusProps:d}=be();return n.createElement("li",{...w(r,d,a),ref:i,className:k(b.option,l&&b.isSelected,s&&b.isFocusVisible,u&&b.disabled,t),"aria-label":e.textValue},e.rendered,n.createElement("span",{className:k(b.icon,l&&b.isSelected)},l&&n.createElement(ge,{inheritSize:!0,role:"presentation"})))};O.displayName="Option";O.__docgenInfo={description:"",methods:[],displayName:"Option",props:{item:{required:!0,tsType:{name:"intersection",raw:`Node<Option> & {
  type: "item"
  hasChildNodes: false
}`,elements:[{name:"Node",elements:[{name:"unknown"}],raw:"Node<Option>"},{name:"signature",type:"object",raw:`{
  type: "item"
  hasChildNodes: false
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"item"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"false",required:!0}}]}}]},description:""}}};const qe="_sectionWrapper_f8jhj_2",Ee="_sectionHeading_f8jhj_10",Ke="_sectionList_f8jhj_14",S={sectionWrapper:qe,sectionHeading:Ee,sectionList:Ke},C=({section:e})=>{const{itemProps:t,headingProps:a,groupProps:o}=he({heading:e.rendered,"aria-label":e["aria-label"]});return n.createElement(n.Fragment,null,n.createElement("li",{...t,className:S.sectionWrapper},e.rendered&&n.createElement(fe,{tag:"span",variant:"heading-6",...a,classNameOverride:S.sectionHeading},e.rendered),n.createElement("ul",{...o,className:S.sectionList},Array.from(e.childNodes).map(i=>n.createElement(O,{key:i.key,item:i})))))};C.displayName="ListBoxSection";C.__docgenInfo={description:"",methods:[],displayName:"ListBoxSection",props:{section:{required:!0,tsType:{name:"intersection",raw:`Omit<Node<SelectOptionGroup<Option>>, "childNodes"> & {
  type: "section"
  hasChildNodes: true
  childNodes: Array<SelectOptionNode<Option>>
}`,elements:[{name:"Omit",elements:[{name:"Node",elements:[{name:"signature",type:"object",raw:`{
  label: string
  options: Iterable<Option>
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"options",value:{name:"Iterable",elements:[{name:"unknown"}],raw:"Iterable<Option>",required:!0}}]}}],raw:"Node<SelectOptionGroup<Option>>"},{name:"literal",value:'"childNodes"'}],raw:'Omit<Node<SelectOptionGroup<Option>>, "childNodes">'},{name:"signature",type:"object",raw:`{
  type: "section"
  hasChildNodes: true
  childNodes: Array<SelectOptionNode<Option>>
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"section"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"true",required:!0}},{key:"childNodes",value:{name:"Array",elements:[{name:"intersection",raw:`Node<Option> & {
  type: "item"
  hasChildNodes: false
}`,elements:[{name:"Node",elements:[{name:"unknown"}],raw:"Node<Option>"},{name:"signature",type:"object",raw:`{
  type: "item"
  hasChildNodes: false
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"item"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"false",required:!0}}]}}]}],raw:"Array<SelectOptionNode<Option>>",required:!0}}]}}]},description:""}}};const _=({item:e})=>e.type==="section"?n.createElement(C,{key:e.key,section:e}):n.createElement(O,{key:e.key,item:e});_.displayName="ListItem";_.__docgenInfo={description:"",methods:[],displayName:"ListItem",props:{item:{required:!0,tsType:{name:"union",raw:`| SelectOptionNode<Option>
| SelectOptionGroupNode<Option>`,elements:[{name:"intersection",raw:`Node<Option> & {
  type: "item"
  hasChildNodes: false
}`,elements:[{name:"Node",elements:[{name:"unknown"}],raw:"Node<Option>"},{name:"signature",type:"object",raw:`{
  type: "item"
  hasChildNodes: false
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"item"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"false",required:!0}}]}}]},{name:"intersection",raw:`Omit<Node<SelectOptionGroup<Option>>, "childNodes"> & {
  type: "section"
  hasChildNodes: true
  childNodes: Array<SelectOptionNode<Option>>
}`,elements:[{name:"Omit",elements:[{name:"Node",elements:[{name:"signature",type:"object",raw:`{
  label: string
  options: Iterable<Option>
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"options",value:{name:"Iterable",elements:[{name:"unknown"}],raw:"Iterable<Option>",required:!0}}]}}],raw:"Node<SelectOptionGroup<Option>>"},{name:"literal",value:'"childNodes"'}],raw:'Omit<Node<SelectOptionGroup<Option>>, "childNodes">'},{name:"signature",type:"object",raw:`{
  type: "section"
  hasChildNodes: true
  childNodes: Array<SelectOptionNode<Option>>
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"section"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"true",required:!0}},{key:"childNodes",value:{name:"Array",elements:[{name:"intersection",raw:`Node<Option> & {
  type: "item"
  hasChildNodes: false
}`,elements:[{name:"Node",elements:[{name:"unknown"}],raw:"Node<Option>"},{name:"signature",type:"object",raw:`{
  type: "item"
  hasChildNodes: false
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"item"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"false",required:!0}}]}}]}],raw:"Array<SelectOptionNode<Option>>",required:!0}}]}}]}]},description:""}}};const P=({items:e})=>n.createElement(n.Fragment,null,e.map(t=>n.createElement(_,{key:t.key,item:t})));P.displayName="ListItems";P.__docgenInfo={description:"",methods:[],displayName:"ListItems",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:'ListItemProps<Option>["item"]'}],raw:'Array<ListItemProps<Option>["item"]>'},description:""}}};const I=({children:e,classNameOverride:t,...a})=>{const{state:o}=N(),i=n.useRef(null),{overlayProps:r}=te({isDismissable:!0,isOpen:o.isOpen,onClose:o.close},i);return n.createElement("div",{ref:i,className:t,...r,...a},n.createElement(ae,{autoFocus:!0,restoreFocus:!0},n.createElement(D,{onDismiss:o.close}),e,n.createElement(D,{onDismiss:o.close})))};I.displayName="Overlay";I.__docgenInfo={description:"",methods:[],displayName:"Overlay",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const De="_divider_3nnrx_2",Re={divider:De},L=()=>n.createElement(ye,{classNameOverride:Re.divider,variant:"canvas"});L.displayName="SectionDivider";L.__docgenInfo={description:"",methods:[],displayName:"SectionDivider"};const Fe="_selectPopoverContents_gmes5_2",Be={selectPopoverContents:Fe},T=({children:e,menuProps:t})=>{const{state:a}=N(),o=Array.from(a.collection);return n.createElement("div",{className:Be.selectPopoverContents},n.createElement(I,null,n.createElement(x,{menuProps:t},e?e({items:o}):n.createElement(P,{items:o}))))};T.displayName="Select.PopoverContents";T.__docgenInfo={description:"",methods:[],displayName:"Select.PopoverContents",props:{children:{required:!1,tsType:{name:"signature",type:"function",raw:"(args: { items: Array<SelectItemNode<Option>> }) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ items: Array<SelectItemNode<Option>> }",signature:{properties:[{key:"items",value:{name:"Array",elements:[{name:"union",raw:`| SelectOptionNode<Option>
| SelectOptionGroupNode<Option>`,elements:[{name:"intersection",raw:`Node<Option> & {
  type: "item"
  hasChildNodes: false
}`,elements:[{name:"Node",elements:[{name:"Option"}],raw:"Node<Option>"},{name:"signature",type:"object",raw:`{
  type: "item"
  hasChildNodes: false
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"item"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"false",required:!0}}]}}]},{name:"intersection",raw:`Omit<Node<SelectOptionGroup<Option>>, "childNodes"> & {
  type: "section"
  hasChildNodes: true
  childNodes: Array<SelectOptionNode<Option>>
}`,elements:[{name:"Omit",elements:[{name:"Node",elements:[{name:"signature",type:"object",raw:`{
  label: string
  options: Iterable<Option>
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"options",value:{name:"Iterable",elements:[{name:"Option"}],raw:"Iterable<Option>",required:!0}}]}}],raw:"Node<SelectOptionGroup<Option>>"},{name:"literal",value:'"childNodes"'}],raw:'Omit<Node<SelectOptionGroup<Option>>, "childNodes">'},{name:"signature",type:"object",raw:`{
  type: "section"
  hasChildNodes: true
  childNodes: Array<SelectOptionNode<Option>>
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"section"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"true",required:!0}},{key:"childNodes",value:{name:"Array",elements:[{name:"intersection",raw:`Node<Option> & {
  type: "item"
  hasChildNodes: false
}`,elements:[{name:"Node",elements:[{name:"Option"}],raw:"Node<Option>"},{name:"signature",type:"object",raw:`{
  type: "item"
  hasChildNodes: false
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"item"',required:!0}},{key:"hasChildNodes",value:{name:"literal",value:"false",required:!0}}]}}]}],raw:"Array<SelectOptionNode<Option>>",required:!0}}]}}]}]}],raw:"Array<SelectItemNode<Option>>",required:!0}}]}},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},menuProps:{required:!0,tsType:{name:"AriaListBoxOptions",elements:[{name:"union",raw:`| Option
| SelectOptionGroup<Option>`,elements:[{name:"Option"},{name:"signature",type:"object",raw:`{
  label: string
  options: Iterable<Option>
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"options",value:{name:"Iterable",elements:[{name:"Option"}],raw:"Iterable<Option>",required:!0}}]}}]}],raw:"AriaListBoxOptions<SelectItem<Option>>"},description:""}}};const G=e=>e.hasOwnProperty("options")&&Array.isArray(e.options),nt=e=>e.reduce((t,a)=>{if(G(a)){const o=Array.from(a.options).filter(i=>i.disabled).map(i=>i.value);return[...t,...o]}return a.disabled?[...t,a.value]:t},[]),Ae=e=>G(e)?n.createElement(ve,{key:e.label,title:e.label,items:e.options},t=>n.createElement(R,{key:t.value},t.label)):n.createElement(R,{key:e.value},e.label);Ae.__docgenInfo={description:"",methods:[],displayName:"transformSelectItemToCollectionElement"};export{tt as $,C as L,O,$e as S,Ze as a,et as b,T as c,L as d,_ as e,x as f,nt as g,Ae as t};
