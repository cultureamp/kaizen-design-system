import{a as m,b as p}from"./defineProperty-C21ZqnLH.js";import{_}from"./inheritsLoose-p_S3dtD8.js";import{_ as h}from"./assertThisInitialized-B9jnkVVz.js";import{g,R as l}from"./index-CTjT7uj6.js";import{P as o}from"./index-BRV0Se7Z.js";var L=function(i,r,c,t,e,n,u,s){if(!i){var a;if(r===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[c,t,e,n,u,s],d=0;a=new Error(r.replace(/%s/g,function(){return f[d++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}},b=L;const v=g(b);var w=function(i){return i.replace(/[A-Z]/g,function(r){return"-"+r.toLowerCase()}).toLowerCase()},j=w,C=j,T=function(i){var r=/[height|width]$/;return r.test(i)},y=function(i){var r="",c=Object.keys(i);return c.forEach(function(t,e){var n=i[t];t=C(t),T(t)&&typeof n=="number"&&(n=n+"px"),n===!0?r+=t:n===!1?r+="not "+t:r+="("+t+": "+n+")",e<c.length-1&&(r+=" and ")}),r},E=function(i){var r="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(c,t){r+=y(c),t<i.length-1&&(r+=", ")}),r):y(i)},O=E;const Q=g(O);var A=function(){function i(c,t,e){var n=this;this.nativeMediaQueryList=c.matchMedia(t),this.active=!0,this.cancellableListener=function(){n.matches=n.nativeMediaQueryList.matches,n.active&&e.apply(void 0,arguments)},this.nativeMediaQueryList.addListener(this.cancellableListener),this.matches=this.nativeMediaQueryList.matches}var r=i.prototype;return r.cancel=function(){this.active=!1,this.nativeMediaQueryList.removeListener(this.cancellableListener)},i}(),M=o.oneOfType([o.string,o.object,o.arrayOf(o.object.isRequired)]),x=function(i){_(r,i);function r(t){var e;if(e=i.call(this,t)||this,m(h(h(e)),"queries",[]),m(h(h(e)),"getMatches",function(){var u=e.queries.reduce(function(s,a){var f,d=a.name,q=a.mqListener;return p({},s,(f={},f[d]=q.matches,f))},{});return k(u)}),m(h(h(e)),"updateMatches",function(){var u=e.getMatches();e.setState(function(){return{matches:u}},e.onChange)}),!(!t.query&&!t.queries)||t.query&&t.queries||v(!1),t.defaultMatches===void 0||!t.query||typeof t.defaultMatches=="boolean"||v(!1),t.defaultMatches===void 0||!t.queries||typeof t.defaultMatches=="object"||v(!1),typeof window!="object"){var n;return t.defaultMatches!==void 0?n=t.defaultMatches:t.query?n=!0:n=Object.keys(e.props.queries).reduce(function(u,s){var a;return p({},u,(a={},a[s]=!0,a))},{}),e.state={matches:n},h(e)}return e.initialize(),e.state={matches:e.props.defaultMatches!==void 0?e.props.defaultMatches:e.getMatches()},e.onChange(),e}var c=r.prototype;return c.initialize=function(){var e=this,n=this.props.targetWindow||window;typeof n.matchMedia!="function"&&v(!1);var u=this.props.queries||D(this.props.query);this.queries=Object.keys(u).map(function(s){var a=u[s],f=typeof a!="string"?Q(a):a,d=new A(n,f,e.updateMatches);return{name:s,mqListener:d}})},c.componentDidMount=function(){this.initialize(),this.props.defaultMatches!==void 0&&this.updateMatches()},c.onChange=function(){var e=this.props.onChange;e&&e(this.state.matches)},c.componentWillUnmount=function(){this.queries.forEach(function(e){var n=e.mqListener;return n.cancel()})},c.render=function(){var e=this.props,n=e.children,u=e.render,s=this.state.matches,a=typeof s=="object"?Object.keys(s).some(function(f){return s[f]}):s;return u?a?u(s):null:n?typeof n=="function"?n(s):(!Array.isArray(n)||n.length)&&a?l.Children.only(n)&&typeof l.Children.only(n).type=="string"?l.Children.only(n):l.cloneElement(l.Children.only(n),{matches:s}):null:null},r}(l.Component);m(x,"propTypes",{defaultMatches:o.oneOfType([o.bool,o.objectOf(o.bool)]),query:M,queries:o.objectOf(M),render:o.func,children:o.oneOfType([o.node,o.func]),targetWindow:o.object,onChange:o.func});function D(i){return{__DEFAULT__:i}}function k(i){var r=Object.keys(i);return r.length===1&&r[0]==="__DEFAULT__"?i.__DEFAULT__:i}export{x as M};
