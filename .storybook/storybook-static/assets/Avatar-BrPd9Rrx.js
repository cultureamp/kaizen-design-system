import{r as U,R as P}from"./index-CTjT7uj6.js";import{c as F}from"./index-CCQ3W5xA.js";import{p as se}from"./index-BRV0Se7Z.js";import{U as X}from"./UserIcon-CFY4To9K.js";var k={},H={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.default=ce;function ce(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!a.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}var j={},ne={exports:{}},o=ne.exports={},m,v;function N(){throw new Error("setTimeout has not been defined")}function L(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?m=setTimeout:m=N}catch{m=N}try{typeof clearTimeout=="function"?v=clearTimeout:v=L}catch{v=L}})();function ae(e){if(m===setTimeout)return setTimeout(e,0);if((m===N||!m)&&setTimeout)return m=setTimeout,setTimeout(e,0);try{return m(e,0)}catch{try{return m.call(null,e,0)}catch{return m.call(this,e,0)}}}function fe(e){if(v===clearTimeout)return clearTimeout(e);if((v===L||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(e);try{return v(e)}catch{try{return v.call(null,e)}catch{return v.call(this,e)}}}var x=[],z=!1,R,$=-1;function de(){!z||!R||(z=!1,R.length?x=R.concat(x):$=-1,x.length&&ie())}function ie(){if(!z){var e=ae(de);z=!0;for(var t=x.length;t;){for(R=x,x=[];++$<t;)R&&R[$].run();$=-1,t=x.length}R=null,z=!1,fe(e)}}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];x.push(new oe(e,t)),x.length===1&&!z&&ae(ie)};function oe(e,t){this.fun=e,this.array=t}oe.prototype.run=function(){this.fun.apply(null,this.array)};o.title="browser";o.browser=!0;o.env={};o.argv=[];o.version="";o.versions={};function T(){}o.on=T;o.addListener=T;o.once=T;o.off=T;o.removeListener=T;o.removeAllListeners=T;o.emit=T;o.prependListener=T;o.prependOnceListener=T;o.listeners=function(e){return[]};o.binding=function(e){throw new Error("process.binding is not supported")};o.cwd=function(){return"/"};o.chdir=function(e){throw new Error("process.chdir is not supported")};o.umask=function(){return 0};var pe=ne.exports;Object.defineProperty(j,"__esModule",{value:!0});j.default=ge;var he=pe,me=ve(he);function ve(e){return e&&e.__esModule?e:{default:e}}function ge(e,t){var n=[],r=0,a=!0;function i(u){function c(){t&&t(u,n)}a?me.default.nextTick(c):c()}function s(u,c){n.push(c),++r>=e.length||u?i(u):e[r](s)}e.length>0?e[0](s):i(null),a=!1}var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.default=ye;var _e=function(){};function ye(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e;e()?t(function r(a){for(var i=arguments.length,s=Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];a?n(a):e.apply(this,s)?t(r):n(null)}):n(null)}var G={};Object.defineProperty(G,"__esModule",{value:!0});G.default=we;function we(e,t){var n=void 0,r=void 0,a=void 0,i=void 0,s=0;function u(){i=0,s=+new Date,a=e.apply(n,r),n=null,r=null}return function(){n=this,r=arguments;var h=new Date-s;return i||(h>=t?u():i=setTimeout(u,t-h)),a}}var J={};Object.defineProperty(J,"__esModule",{value:!0});J.default=Te;var xe=0;function Te(){return xe++}var A={};Object.defineProperty(A,"__esModule",{value:!0});A.innerHeight=be;A.innerWidth=Se;function be(e){var t=window.getComputedStyle(e,null);return t?e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10):e.clientHeight}function Se(e){var t=window.getComputedStyle(e,null);return t?e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10):e.clientWidth}Object.defineProperty(H,"__esModule",{value:!0});var Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ee=U,D=W(Ee),Oe=se,E=W(Oe),Me=V,Re=W(Me),Pe=j,We=W(Pe),ze=Q,Z=W(ze),qe=G,Ue=W(qe),$e=J,B=W($e),C=A;function W(e){return e&&e.__esModule?e:{default:e}}function ke(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ee(e,t){return e.scrollWidth-1<=t}function te(e,t){return e.scrollHeight-1<=t}function Ne(){}var K=function(e){Fe(t,e);function t(n){Ae(this,t);var r=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.state={fontSize:null,ready:!1},r.handleWindowResize=function(){r.process()},"perfectFit"in n&&console.warn("TextFit property perfectFit has been removed."),r.handleWindowResize=(0,Ue.default)(r.handleWindowResize,n.throttle),r}return Ie(t,[{key:"componentDidMount",value:function(){var r=this.props.autoResize;r&&window.addEventListener("resize",this.handleWindowResize),this.process()}},{key:"componentDidUpdate",value:function(r){var a=this.state.ready;a&&((0,Re.default)(this.props,r)||this.process())}},{key:"componentWillUnmount",value:function(){var r=this.props.autoResize;r&&window.removeEventListener("resize",this.handleWindowResize),this.pid=(0,B.default)()}},{key:"process",value:function(){var r=this,a=this.props,i=a.min,s=a.max,u=a.mode,c=a.forceSingleModeWidth,h=a.onReady,f=this._parent,b=this._child,g=(0,C.innerWidth)(f),_=(0,C.innerHeight)(f);if(_<=0||isNaN(_)){console.warn("Can not process element without height. Make sure the element is displayed and has a static height.");return}if(g<=0||isNaN(g)){console.warn("Can not process element without width. Make sure the element is displayed and has a static width.");return}var y=(0,B.default)();this.pid=y;var w=function(){return y!==r.pid},O=u==="multi"?function(){return te(b,_)}:function(){return ee(b,g)},q=u==="multi"?function(){return ee(b,g)}:function(){return te(b,_)},l=void 0,S=i,I=s;this.setState({ready:!1}),(0,We.default)([function(d){return(0,Z.default)(function(){return S<=I},function(M){if(w())return M(!0);l=parseInt((S+I)/2,10),r.setState({fontSize:l},function(){return w()?M(!0):(O()?S=l+1:I=l-1,M())})},d)},function(d){return u==="single"&&c||q()?d():(S=i,I=l,(0,Z.default)(function(){return S<I},function(M){if(w())return M(!0);l=parseInt((S+I)/2,10),r.setState({fontSize:l},function(){return y!==r.pid?M(!0):(q()?S=l+1:I=l-1,M())})},d))},function(d){if(l=Math.min(S,I),l=Math.max(l,i),l=Math.min(l,s),l=Math.max(l,0),w())return d(!0);r.setState({fontSize:l},d)}],function(d){d||w()||r.setState({ready:!0},function(){return h(l)})})}},{key:"render",value:function(){var r=this,a=this.props,i=a.children,s=a.text,u=a.style;a.min,a.max;var c=a.mode;a.forceWidth,a.forceSingleModeWidth,a.throttle,a.autoResize,a.onReady;var h=ke(a,["children","text","style","min","max","mode","forceWidth","forceSingleModeWidth","throttle","autoResize","onReady"]),f=this.state,b=f.fontSize,g=f.ready,_=Y({},u,{fontSize:b}),y={display:g?"block":"inline-block"};return c==="single"&&(y.whiteSpace="nowrap"),D.default.createElement("div",Y({ref:function(O){return r._parent=O},style:_},h),D.default.createElement("div",{ref:function(O){return r._child=O},style:y},s&&typeof i=="function"?g?i(s):s:i))}}]),t}(D.default.Component);K.propTypes={children:E.default.node,text:E.default.string,min:E.default.number,max:E.default.number,mode:E.default.oneOf(["single","multi"]),forceSingleModeWidth:E.default.bool,throttle:E.default.number,onReady:E.default.func};K.defaultProps={min:1,max:100,mode:"multi",forceSingleModeWidth:!0,throttle:50,autoResize:!0,onReady:Ne};H.default=K;Object.defineProperty(k,"__esModule",{value:!0});var ue=k.Textfit=void 0,Le=H,le=He(Le);function He(e){return e&&e.__esModule?e:{default:e}}ue=k.Textfit=le.default;k.default=le.default;const Ve="_wrapper_1whuo_6",je="_small_1whuo_15",Qe="_personal_1whuo_19",Ge="_otherUser_1whuo_22",Je="_company_1whuo_25",Ke="_initials_1whuo_35",Xe="_medium_1whuo_41",Ye="_large_1whuo_48",Ze="_xlarge_1whuo_52",Be="_xxlarge_1whuo_56",Ce="_avatarImage_1whuo_66",et="_loading_1whuo_71",tt="_companyAvatarImage_1whuo_75",rt="_fallbackIcon_1whuo_81",nt="_longName_1whuo_115",p={wrapper:Ve,small:je,personal:Qe,otherUser:Ge,company:Je,initials:Ke,medium:Xe,large:Ye,xlarge:Ze,xxlarge:Be,avatarImage:Ce,loading:et,companyAvatarImage:tt,fallbackIcon:rt,longName:nt},re=(e,t=!1)=>e==null?"":e.split(/\s/).reduce((n,r)=>`${n}${r.slice(0,1)}`,"").toUpperCase().substring(0,t?2:8),at=e=>e==="small"?8:e==="medium"?16:e==="xlarge"||e==="xxlarge"?34:22,it=e=>e?P.createElement(X,{inheritSize:!0,role:"img","aria-label":e}):P.createElement(X,{inheritSize:!0,role:"presentation"}),ot=(e="",t,n=!1)=>{const r=re(e),a=r.length>2&&t!=="small";return n||r===""?P.createElement("span",{className:p.fallbackIcon},it(e)):P.createElement("abbr",{className:F(p.initials,a&&p.longName),title:e||""},a?P.createElement(ue,{mode:"single",max:at(t)},r):re(e,t==="small"))},ut=({fullName:e,size:t="medium",avatarSrc:n,disableInitials:r=!1,isCompany:a=!1,isCurrentUser:i=!0,classNameOverride:s,...u})=>{const[c,h]=U.useState(n?"loading":"none"),f=U.useRef(null),b=!a&&(c==="none"||c==="error");U.useEffect(()=>{h(n?"loading":"none")},[n]);const g=()=>h("error"),_=()=>h("success");U.useEffect(()=>{var q;(q=f==null?void 0:f.current)!=null&&q.complete&&_()},[f]);const y=c==="none"||c==="error",w=y&&i,O=y&&!i;return P.createElement("span",{className:F(p.wrapper,p[t],s,a&&p.company,w&&p.personal,O&&p.otherUser,(c==="loading"||c==="error")&&p.loading),...u},c!=="none"&&P.createElement("img",{ref:f,className:F(p.avatarImage,a&&p.companyAvatarImage),src:n,onError:g,onLoad:_,alt:e||""}),b&&ot(e,t,r))};ut.__docgenInfo={description:`{@link https://cultureamp.atlassian.net/wiki/spaces/DesignSystem/pages/3064857475/Avatar Guidance} |
{@link https://cultureamp.design/?path=/docs/components-avatar-avatar--docs Storybook}`,methods:[],displayName:"Avatar",props:{size:{defaultValue:{value:'"medium"',computed:!1},required:!1},disableInitials:{defaultValue:{value:"false",computed:!1},required:!1},isCompany:{defaultValue:{value:"false",computed:!1},required:!1},isCurrentUser:{defaultValue:{value:"true",computed:!1},required:!1}}};export{ut as A};
