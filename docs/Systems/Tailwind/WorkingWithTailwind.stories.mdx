import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { CATEGORIES } from "../../../storybook/constants"
import { Button } from "@kaizen/button"
import { Heading } from "@kaizen/typography"
import { CardContent } from "./components/CardContent"
import { Card } from "@kaizen/draft-card"
import {
  CustomSurvey,
  CustomUnattributedSurvey,
} from "@kaizen/draft-illustration"
import DemoBox from "./components/DemoBox"
import { Skirt } from "@kaizen/draft-page-layout"

<Meta title={`${CATEGORIES.tailwind}/Working with Tailwind`} />

# Working with Tailwind

This page describes and demonstrates the main intended use cases for this package, as well as our recommended escape hatch.

- [Spacing and layouts](#spacing-and-layouts)
- [Altering Kaizen components with classnameOverride](#altering-kaizen-components-with-classnameoverride)
- [Creating bespoke components](#creating-bespoke-components)
- [Recommended escape hatch](#recommended-escape-hatch)

<br/>

## Spacing and layouts

For information about Cultureamp's spacing and layout system in general, see [here](/story/systems-layout-and-spacing--page)

When building a page, ideally [Kaizen](https://github.com/cultureamp/kaizen-design-system) components should be used as much as possible, with the front-end engineer responsible for the spacing between them. In these cases, our Tailwind preset makes it easy by adding our spacing tokens to Tailwind's core spacing modules.  

Here, Tailwind has been used to center a Kaizen button within a div.

<Canvas>
<div className="flex justify-center border-solid p-16">
  <Button label="Kaizen Button" primary />
</div>
</Canvas>

- `flex`: Adds `display: flex`
- `justify-center`: Adds `justify-content: center`
- `border-solid`: Adds `border-style: solid`
- `p-16`: Adds `padding: 1rem` (`16px` = `1rem` - see the [layout and spacing docs](/story/systems-layout-and-spacing--page) for more on this)

Here's a more complex example, where some `<Card>` components and text have been spaced and layed out with Tailwind:

<Canvas>
<>
<Skirt>
    <Heading variant="heading-2" color="white" classNameOverride="pt-24">
      Layed out with Tailwind
    </Heading>
      <Card variant="informative" classNameOverride="mt-24">
        <div className="h-[300px]"/>
      </Card>
</Skirt>
<div className="flex w-100 justify-center"> {/* Adds flex, makes the width 100% and centers content */}
    <div className="mx-72 my-24 w-100 max-w-[1392px]"> {/* Adds margins, width, and max width */}
      <a
        className="font-weight-[500px] font-family-paragraph text-heading-5 text-blue-500"
        href="#"
      >
        Clickable link
      </a>
      <p className="mt-12 font-family-paragraph text-heading-6 font-weight-paragraph leading-paragraph-sm text-purple-800">
        Supporting text
      </p> {/* Adds spacing with margin-top */}
      <div className="mt-64 flex h-[200px]"> {/* Adds margin-top, flex, and a height of 200px */}
        {[0, 1, 2, 3].map(() => (
          <Card variant="informative" classNameOverride="mr-24 last:mr-0 w-100">
            <div className="w-100 h-100"/> {/* Adds height and width of 100% */}
          </Card>
        ))}
      </div>
    </div>
</div>
</>
</Canvas>

<br/>

## Altering Kaizen components with classnameOverride

If a Kaizen component supports classNameOverride, Tailwind classes can also be used.  
This is particularly useful for adding margins to Kaizen components. In this example, our preset is being used to add `margin-right: 1.5rem` to Kaizen's `<Card/>` component, without the need to wrap it in a div.

<Canvas>
<div className="flex justify-center">
  <Card classNameOverride="mr-24"> {/* Adds margin-right: 24px */} 
    <CardContent
      title="Card 1"
      Illustration={<CustomSurvey alt="custom-survey" />}
    />
  </Card>
  <Card>
    <CardContent
      title="Card 2"
      Illustration={
        <CustomUnattributedSurvey alt="custom-unattributed-survey" />
      }
    />
  </Card>
</div>
</Canvas>

In this example, a Tailwind css rule is being applied to a Kaizen `<Heading />` component to ensure that the first letter is capitalized.

<Canvas>
<Heading variant="heading-1" classNameOverride="first-letter:capitalize">
  capitalize me with tailwind
</Heading>
</Canvas>

- first-letter:capitalize: Adds text-transform: capitalize on the first-letter psuedo selector

<br/>

## Creating bespoke components
Occasionally snowflakes need to be created. This package provides common utilities based on our design tokens, such as color, border-radius, and font-family. Ideally, as much styling of bespoke components should be handled with Tailwind, but keep in mind that scss can still be used when necessary.

Here is an example of our TW package being used to create a bespoke, non-Kaizen component:

<Canvas>
<div className="flex justify-center">
  <div className="w-[250px] rounded-default border-dashed border-red-500 bg-blue-100">
    <p className="m-0 p-12 pl-16 font-family-paragraph text-blue-500 text-center">
      Not a Kaizen Component
    </p>
  </div>
</div>
</Canvas>

<br/>

### The container div
- `w-[250px]`: Adds `width: 250px`. This is an example of an arbitrary value being used to inject a custom suffix
- `rounded-default`: Adds `border-radius: 7px`. This is one of our custom preset values, defined here
- `border-dashed`: Adds `border-style: dashed`
- `border-red-500`: Adds `border-color: #c93b55` (our red-500 design token)
- `bg-blue-100`: Adds `background: #e6f6ff` (our blue-100 design token)
- `text-center`: Adds `text-align: center`

### The p tag
- `m-0`: Adds `margin: 0`
- `p-12`: Adds `padding: .75rem` (12px = 0.75rem)
- `pl-16`: Adds `padding-left: 1rem` (16px = 1rem)
- `font-family-paragraph`: Adds `font-family: "Inter", "Noto Sans", ...` (defined in our preset here)
- `text-blue-500`: Adds `color: #0168b3` (our blue-500 design token)

<br/>

## Recommended Escape Hatch

If you find yourself needing to add styles in a way that is unsupported or otherwise difficult in Tailwind, the recommended alternative is CSS. CSS classes can be added alongside Tailwind utility classes without trouble, and the Tailwind docs recommend some useful post-css plugins [here](https://tailwindcss.com/docs/using-with-preprocessors#using-sass-less-or-stylus).

### Why not SCSS?
- SCSS is currently a contained option, so writing new SCSS in our codebases is discouraged.
- The Tailwind docs explicitly recommend <em>not</em> using Tailwind with preprocessors, as it leads to all sorts of quirks and work-arounds. Read more [here](https://tailwindcss.com/docs/using-with-preprocessors#using-sass-less-or-stylus).

<br/>