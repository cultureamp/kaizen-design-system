@import "~@kaizen/design-tokens/sass/typography";
@import "~@kaizen/design-tokens/sass/color";
@import "~@kaizen/design-tokens/sass/spacing";
@import "~@kaizen/design-tokens/sass/border";
@import "~@kaizen/design-tokens/sass/shadow";

// Vars
$border-radius: 7px;
$button-height: 48px;
$button-base-padding-horizontal: $spacing-sm;
$button-icon-size: 1.25rem; // 20px

$disabled-opacity: 0.5;
$placeholder-opacity: 0.7;

@mixin button-reset {
  appearance: none;
  display: inline;
  background: transparent;
  color: inherit;
  font: inherit;
  margin: 0;
  padding: 0;
  border: none;
}

.button {
  @include button-reset;
  position: relative;
  display: flex;
  align-items: center;
  height: $button-height;
  width: 100%;
  color: $color-purple-800;
  font-family: $typography-paragraph-body-font-family;
  font-size: $typography-paragraph-body-font-size;
  font-weight: $typography-paragraph-body-font-weight;
  line-height: 1.5;
  letter-spacing: $typography-paragraph-body-letter-spacing;
  text-align: left;
  background-color: $color-white;
  background-clip: padding-box;
  border: $border-solid-border-width $border-solid-border-style $color-gray-500;
  border-radius: $border-radius;
  padding: 0 $button-base-padding-horizontal;

  &:focus:not([disabled]),
  &:hover:focus:not([disabled]),
  &:hover:not([disabled]) {
    background-color: $color-gray-200;
    border-color: $color-gray-600;
    color: $color-purple-800;
  }

  &:focus:not([disabled]) {
    outline: $color-blue-500 $border-focus-ring-border-style
      $border-focus-ring-border-width;
    outline-offset: 1px;
  }

  &.disabled {
    background: $color-white;
    opacity: $disabled-opacity;
    color: rgba($color-purple-800-rgb, $placeholder-opacity);
    border-color: rgba($color-gray-500-rgb, 0.7);
  }

  .value {
    padding-right: $button-base-padding-horizontal;
    padding-left: 1.75rem;

    &[dir="rtl"],
    [dir="rtl"] & {
      padding-right: 1.75rem;
      padding-left: $button-base-padding-horizontal;
    }
  }
}

.startIconAdornment {
  margin-top: -1px;
}

// Icon adornment styles
@mixin vertically-center-icon {
  position: absolute;
  height: $button-icon-size;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1;
}

.withStartIconAdornment {
  .startIconAdornment {
    @include vertically-center-icon;
    right: auto;
    left: $spacing-sm;

    &[dir="rtl"],
    [dir="rtl"] & {
      right: $spacing-sm;
      left: auto;
    }
  }

  .button {
    padding-right: $button-base-padding-horizontal;
    padding-left: $spacing-md + $button-icon-size;

    &[dir="rtl"],
    [dir="rtl"] & {
      padding-right: $spacing-md + $button-icon-size;
      padding-left: $button-base-padding-horizontal;
    }
  }
}

/* stylelint-disable-next-line no-duplicate-selectors */
.withStartIconAdornment {
  /* stylelint-disable-next-line no-duplicate-selectors */
  .startIconAdornment {
    color: $color-purple-800;
    opacity: $disabled-opacity;
  }

  &:focus-within:not(.disabled),
  &:hover:not(.disabled) {
    .startIconAdornment {
      opacity: $placeholder-opacity;
    }
  }
}
