import { Meta } from '@storybook/addon-docs/blocks';
import exampleSass from '!!raw-loader!./examples/example.scss'
import { CodeBlock, LinkToStory } from '../DocsComponents'
import apiPage from './api.stories.mdx'
import gettingStartedPage from './how-to-setup.stories.mdx'

<Meta title="How-to guides/How to use design tokens in SASS code" parameters={{ docsOnly: true }} />

# How to use design tokens in SASS code


## 1. Setup a ThemeManager

Ensure you have followed the steps in <LinkToStory storyModule={gettingStartedPage} /> to setup your application for using design tokens.

## 2. Start using design tokens

Tokens (which contain CSS variables, e.g `var(--kz-var-color-ash)`) can be subscribed to in SASS by importing variables exposed by the package.

Example:

<CodeBlock language="scss" code={exampleSass} />

See <LinkToStory storyModule={apiPage} hash="sass-variables">SASS Variables</LinkToStory> for all available tokens.


## 3. Be aware of the limitations of CSS variables in SASS

### Compile-time functions like `mix()` or `darken()`

Because the exposes SASS variables contain values such as `var(--kz-var-color-wisteria-800)`, CSS compilers such as SASS won't be able to calculate anything that relies on concrete values such as HEX or RGB strings.

**It won't be possible to do things like:**
<CodeBlock language="scss" code={`.myClass { 
    color: mix(white, $kz-var-color-wisteria-800, 90%);
}`} />

because, `$kz-var-color-wisteria-800` will hold a value like `var(--kz-var-color-wisteria-800)`, and SASS won't be able to resolve it to a concrete color value to compute the color blend.

## 4. Be aware of `-rgb-params` variables - used for changing opacity with `rgba()`

We have exposed extra sibling variables for every color, as seen in <LinkToStory storyModule={apiPage} hash="sass-variables">SASS Variables</LinkToStory>, which allow you to manipulate opacity of CSS variable colors:

<CodeBlock language="scss" code={`@import '~@kaizen/design-tokens/sass/color-vars.scss';
.myClass {
    background-color: rgba($kz-var-color-stone-rgb-params, 0.5);
}`} />

For similar reasons to the previous section, a statement like `rgba($kz-var-color-stone, 0.5)`, will not work because neither SASS or your browser can understand the expanded value: `rgba(var(--kz-var-color-stone), 0.5)`.

Every color variable such as `$kz-var-color-stone` will have a matching sibling variable with the `-rgb-params` prefix and will contain a CSS variable, however it's value will be defined as a string like `240, 10, 59`, which browsers will therefore expand a statement like `rgba(var(--kz-var-color-rgb-params), 0.5)` to `rgba(240, 10, 59, 0.5)` - the latter is valid usage of the `rgba()` function.


## Migrating from compile time SASS functions like add-tint, darken, or mix

A utility to help with this is coming soon. You will need to replace any function calls like these with design tokens, as these are both not computable using CSS variables, and have been deprecated for a while.

