import { Canvas, Controls, Meta } from "@storybook/blocks"
import { ResourceLinks, KAIOInstallation, LinkTo } from "~storybook/components"
import * as EditableRichTextContentStories from "./EditableRichTextContent.stories"

<Meta of={EditableRichTextContentStories} />

# EditableRichTextContent

<ResourceLinks
  sourceCode="https://github.com/cultureamp/kaizen-design-system/tree/main/packages/components/src/RichTextEditor/EditableRichTextContent"
  className="!mb-8"
/>

<KAIOInstallation exportNames="EditableRichTextContent" />

## Overview

To render the contents of your <LinkTo pageId="components-richtexteditor">RichTextEditor</LinkTo> using the same structure for both components.

<Canvas of={EditableRichTextContentStories.Playground} />
<Controls of={EditableRichTextContentStories.Playground} />

## Usage

The general idea is to use this component in combination with the <LinkTo pageId="components-richtexteditor">RichTextEditor</LinkTo> to toggle between a read only state
and an editable state.

```tsx
const [editMode, setEditMode] = useState<boolean>(false);
const [rteData, setRTEData] = useState<EditorContentArray>([]);

const handleOnChange: RichTextEditorProps["onChange"] = editorState =>
  setRTEData(editorState.toJSON().doc.content)

if (editMode) {
  return (
    <>
      <RichTextEditor defaultValue={rteData} onChange={handleOnChange} />
      <Button label="Save" primary onClick={() => setEditMode(false)} />
    </>
  )
}

return (
  <EditableRichTextContent content={rteData} onClick={() => setEditMode(true)} />
)
```

<Canvas of={EditableRichTextContentStories.UsageExample} />
