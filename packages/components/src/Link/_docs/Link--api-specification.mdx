import { Canvas, Meta, Controls, ArgTypes, DocsStory } from '@storybook/blocks'
import { ResourceLinks, KAIOInstallation, LinkTo } from '~storybook/components'
import * as exampleStories from './Link.doc.stories'

<Meta title="Components/Link/API Specification" />

# Link API Specification

Update Jan 29, 2025

<ResourceLinks
  sourceCode="blah blah update when available on main"
  figma="https://www.figma.com/design/FWIOtGjpv9z0by95j1SgP0/Link?node-id=273-4107"
  designGuidelines="/?path=/docs/link-link-usage-guidelines--docs"
/>

<KAIOInstallation exportNames={'Link'} />

## Overview

`Link` allows users to navigate to another page or resource. It is a wrapper around the native `a` element, with additional functionality and styling.

The following example and table showcases the essential props that enable the core functionality of `Link`. For the remaining suite of API options refer to [this section](#additional-api-options).

<Canvas of={exampleStories.Playground} />

<Controls
  of={exampleStories.Playground}
  include={[
    'className',
    'children',
    'href',
    'variant',
    'size',
    'icon',
    'iconPosition',
    'underlined',
    'isInline',
    'isUnderlined',
    'isReversed',
    'isDisabled',
  ]}
/>

## API

This is built on top of [React Aria's Link component](https://react-spectrum.adobe.com/react-aria/Link.html)

## Navigation and native anchor attributes

Out of the box, the `Link` offers the majority of native behaviour and functionality on the `anchor` tag. `href` will trigger new page loads.

While client side routing is possible, the `Link` is agnostic to the routing technology chosen. Refer to our general set up guide to get started with [client side routing](#client-side-routing).

#### Opening new tabs and accessibility considerations

The general recommendation is to limit the number of links that open a new tab or window on a single page. While there are valid scenarios that can help avoid loss of data and or progress, as with links in forms, opening new tabs can be disorienting for users - especially for those who have difficulty perceiving visual content.

In order to provide advance warning to all users, it is recommended that links using `target="_blank"` be accompanied by a visual indicator and audible warning. As shown in the following example, additional context can be provided via a visually hidden element within the `children` of the component.

<Canvas of={exampleStories.LinkOpensInNewTab} />

For more context on this recommendation, we recommend taking a look at the [W3C page on the G200 success criteria](https://www.w3.org/TR/WCAG20-TECHS/G200.html).

### Variants

`Link` supports `primary` and `secondary` variants. If the `variant` props is not specified, the default variant is `primary`.

<Canvas of={exampleStories.LinkVariants} />

Reversed variants are handled via the `ReversedColors` Provider.

<DocsStory of={exampleStories.LinkVariantsReversed} expanded={false} />

To enable the reversed theme, you will need to wrap the component or application in the `ReversedColors` provider, ie:

```tsx
import { RouterProvider } from 'react-aria-components'
import { Link } from '@kaizen/components/link'
import { ReversedColors } from '@kaizen/components/v3/utilities'
// application code

return (
  <ReversedColors isReversed={true}>
    <Link {...LinkProps} />
  </ReversedColors>
)
```

### Sizes

Link supports the following sizes: `very-small`, `small`, `body` and `intro-lede`. If the `size` prop is not specified, the default size is `body`.

<Canvas of={exampleStories.LinkSizes} />

### Links within Text

The `isInline` prop can be toggled to have the `Link` inherit the sizing from the parent text element. This is useful when the `Link` is nested within a paragraph or other text element.

### Link content and children

Labels and any `Link` content can be passed to the component via `children`. For icons as content, refer to the [next section](#icons-and-positioning).

```tsx
<Link href="#link">Label</Link>
```

While in most cases, `children` will be a `ReactNode`, `Link` also accepts a render function with React Aria's `LinkRenderProps`. This allows for more advanced styling and rendering options by hooking into React Aria's internal Link state. You can read more about this [here](https://react-spectrum.adobe.com/react-aria/Link.html#styling).

### Icons and Underlines

The underline on the `Link` can be toggled using the `isUnderlined` prop and is `true` by default. If the `Link` is not underlined, the `icon` prop must be passed. The `icon` prop is optional if the link is underlined.

### Icons and positioning

The `icon` property abstracts the need to handle positioning and sizing of icons within the `Link` component. The `iconPosition` prop allows for the icon to be positioned to the left or right of the `children`.

<Canvas of={exampleStories.LinkWithIconStart} />

Setting the `iconPosition` props will ensure content is flipped in `RTL` layouts. Note that icons will need the [shouldMirrorInRTL](/docs/illustrations-icon-icon-future-api-specification--docs#mirror-in-rtl) prop set to `true` when mirroring is required.

<Canvas of={exampleStories.LinkWithIconEnd} />

## Client side routing

Please refer to the [client side routing](/docs/guides-client-side-routing--docs) for more information on how to set up client side routing with the `Link` component.

## Additional API options

The following table is a collection of additional React Aria and native HTML props that are exposed from the [React Aria Link API](https://react-spectrum.adobe.com/react-aria/Link.html). These are not required for the implementation of `LinkButton` but can be used to extend its functionality. Refer back to the [overview section](#overview) for the core props that enable most use cases.

<ArgTypes
  of={exampleStories.Playground}
  exclude={[
    'className',
    'children',
    'href',
    'variant',
    'size',
    'icon',
    'iconPosition',
    'underlined',
    'isInline',
    'isUnderlined',
    'isReversed',
    'isDisabled',
  ]}
/>
