import { Canvas, Meta, Controls } from "@storybook/blocks"
import { CheckIcon, ClearIcon } from "~components/Icon"
import { ResourceLinks, SbContent, Installation } from "~storybook/components"
import * as TooltipStories from "./Tooltip.docs.stories"
import AnatomyPng from "./assets/tooltip_anatomy.png"
import PlacementPng from "./assets/tooltip_placement.png"
import Trigger1Png from "./assets/tooltip_trigger_1.png"
import Trigger2Png from "./assets/tooltip_trigger_2.png"
import Trigger3Png from "./assets/tooltip_trigger_3.png"
import WhenToUsePng from "./assets/tooltip_variant.png"

<Meta title="Overlays/Tooltip/v3/Usage Guidelines" />

<SbContent>
  # Tooltip (v3)

  Updated June 25, 2024
</SbContent>


<ResourceLinks
  sourceCode="https://github.com/cultureamp/kaizen-design-system/tree/main/packages/components/src/Tooltip"
  figma="https://www.figma.com/file/eZKEE5kXbEMY3lx84oz8iN/%F0%9F%92%9C-UI-Kit%3A-Heart?type=design&node-id=1929%3A32006&mode=design&t=LwTCBZ5E1uRvOA1l-1"
  designGuidelines="/?path=/docs/overlays-tooltip-v3-usage-guidelines--docs"
  ariaComponentPage="https://react-spectrum.adobe.com/react-aria/Tooltip.html"
  apiSpecification="/?path=/docs/overlays-tooltip-v3-api-specifications--docs"
  className="!mb-8"
/>

<SbContent>
  <Installation
    installCommand="pnpm add @kaizen/components"
    importStatement='import { Tooltip, TooltipTrigger } from "@kaizen/components/v3/overlays"'
  />

  ## Overview

  Tooltips are brief floating labels used to add additional contextual information when users hover, click or focus on an interactive element. These should offer concise explanations,  elaborating on the element they are associated with.
</SbContent>


<Canvas
  of={TooltipStories.Playground}
  source={{code: `
<TooltipTrigger>
  <Button label="Button" />
  <Tooltip>Tooltip content</Tooltip>
</TooltipTrigger>
  `}}
 />
<Controls of={TooltipStories.Playground} include={["placement", "isOpen"]} className="mb-64" />


<SbContent className="mb-64">
  ### Anatomy

  - The anatomy of a tooltip is made up of a container, description and arrow.
    - **They do not include a title or heading**. If you need to include a title, use a Popover
  - A tooltip is connected to a trigger element, such as a button or icon, that shows the tooltip when the interactive trigger element is hovered or focused. (More details below.)

  <img src={AnatomyPng} alt="Indicates the anatomy of the Tooltip component, the Container, Label, Arrow and Trigger" className="mt-24" />
</ SbContent>

<SbContent className="mb-64">
  ### When to use

  - Tooltips are used to provide additional information when space is tight.
  - Tooltips must be concise with one or more lines of text.
  - Tooltips must be accessible via hover and focus only.
  - Trigger tooltips from Interactive elements (Buttons, Links, Icon buttons) or Non-interactive elements (Icons, Abbreviations Truncated text)—be mindful of keyboard accessibility
  - **Never include any kind of error messages** in a tooltip

  <img src={WhenToUsePng} alt="Illustration of when to use the Tooltip component" className="mt-24"/>
</ SbContent>

<SbContent >
  ### Dos and don'ts
</SbContent >

{/* TODO: abstract this into a sb component */}
<div className="flex flex-col mt-16 gap-40 mb-64">
  <div className="flex flex-col m-0 gap-16">
    <SbContent variant="heading-4">
      #### Do use tooltips to describe icons
      Icons are not always easy to identify on their own. When you use components that don&apos;t have labels — for example, icon-only action buttons and tabs — make sure to use tooltips to provide context for the icons.
    </SbContent>
    <div className="grid grid-cols-2 gap-16">
      <div className="relative [&>*]:m-0">
        <div className="bg-green-500 absolute top-6 left-6 z-10 py-4 px-6 font-bold text-white rounded flex gap-2 items-center justify-center">
          <CheckIcon role="presentation" />
          <SbContent ><span className="text-white"><strong>Do</strong></span></SbContent>
        </div>
        <Canvas of={TooltipStories.Primary} className="border-green-500 !rounded" />
      </div>
    </div>
  </div>

  <div className="flex flex-col gap-16">
    <SbContent variant="heading-4">
      #### Don&apos;t use tooltips to communicate crucial information

      Tooltips should never stop a user (or be a gate) from completing a task or performing an action. They disappear so they should never contain critical information that a user would absolutely need to proceed, or information without which a user may cause errors. If the information is crucial for a user to proceed, consider using a modal or inline notification instead.
    </SbContent>
    <div className="grid grid-cols-2 gap-16">
      <div className="relative [&>*]:m-0">
        <div className="bg-green-500 absolute top-6 left-6 z-10 py-4 px-6 font-bold text-white rounded flex gap-2 items-center justify-center">
          <CheckIcon role="presentation" />
          <SbContent ><span className="text-white"><strong>Do</strong></span></SbContent>
        </div>
        <Canvas of={TooltipStories.DoFieldTooltip} className="border-green-500 !rounded-[10px]" />
      </div>
      <div className="relative [&>*]:m-0">
        <div className="bg-gray-500 absolute top-6 left-6 z-10 py-4 px-6 font-bold text-white rounded flex gap-2 items-center justify-center">
          <ClearIcon role="presentation" />
          <SbContent ><span className="text-white"><strong>Don&apos;t</strong></span></SbContent>
        </div>
        <Canvas of={TooltipStories.DontFieldTooltip} className="border-gray-500 !rounded-[10px]" />
      </div>
    </div>
  </div>

  <div className="flex flex-col m-0 gap-16">
    <SbContent variant="heading-4">
      #### Do be concise

      Good tooltips contain concise and helpful information, keep it short. If you need more space, consider using a Popover. Don’t use it to duplicate information that already exists on the page. Instead, closely consider its placement and whether the disclosed copy will inform the action the user is about to perform.
    </SbContent>
    <div className="grid grid-cols-2 gap-16">
      <div className="relative [&>*]:m-0">
        <div className="bg-green-500 absolute top-6 left-6 z-10 py-4 px-6 font-bold text-white rounded flex gap-2 items-center justify-center">
          <CheckIcon role="presentation" />
          <SbContent ><span className="text-white"><strong>Do</strong></span></SbContent>
        </div>
        <Canvas of={TooltipStories.DoConcise} className="border-green-500 !rounded-[10px]" />
      </div>
      <div className="relative [&>*]:m-0">
        <div className="bg-gray-500 absolute top-6 left-6 z-10 py-4 px-6 font-bold text-white rounded flex gap-2 items-center justify-center">
          <ClearIcon role="presentation" />
          <SbContent ><span className="text-white"><strong>Don&apos;t</strong></span></SbContent>
        </div>
        <Canvas of={TooltipStories.DontConcise} className="border-gray-500 !rounded-[10px]" />
      </div>
    </div>
  </div>
</div>

<SbContent className="mb-64">
  ### Placements

  <img src={PlacementPng} alt="" className="mb-24" />

  - Type: Dropdown to choose from Default (dark tooltip) and Reverse (light tooltip)
  - Direction: Dropdown to choose where the arrow points
  - Tooltip label: Input field allows you to type in the label from the properties panel
  - Use strong signifiers for trigger elements to ensure the tooltip is discoverable.
  - The proximity of tooltips is always paired to the element with which they are associated.
</SbContent>

<SbContent className="mb-64">
  ### Trigger

  - Should be shown on hover, click or on focus events
  - Needs to be discoverable:
    - E.g. something like an icon to suggest there’s a tooltip.
    - Avoid triggering tooltips from text that excludes a visual indicator (e.g. underline)

  <img src={Trigger1Png} alt="" className="my-24" />

  - Only trigger tooltips from interactive elements, such as:
    - Buttons
    - Links
    - Icon buttons

  <img src={Trigger2Png} alt="" className="my-24" />

  - Non-interactive elements (be mindful of keyboard accessibility):
    - Icons
    - Abbreviations (e.g. dashed underlined text for HRIS that shows a tooltip that says Human Resource Information System)
    - Truncated text
  - For interactive elements that trigger tooltips, only have optional information in the tooltip because it could be missed when the user clicks

  <img src={Trigger3Png} alt="" className="my-24" />
</SbContent>
